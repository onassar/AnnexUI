window.annexSearch=window.annexSearch||{},window.annexSearch.DependencyLoader=function(){let e=[],t=0,n=function(e,n){return++t,r(e),!0===i(e)&&(n.apply(window.annexSearch.DependencyLoader),!0)},r=function(e){if(t>1e4){let n="Could not complete an attempt: [";throw n+=e.join(", ")+"]",window.annexSearch&&window.annexSearch.LoggingUtils&&window.annexSearch.LoggingUtils.error(n),Error(n)}},i=function(e){let t=0,n=e.length;for(;t<n;++t)if(!1===a(e[t]))return!1;return!0},a=function(e){let t=e.split("."),n=window;for(var r of t){if(void 0===n[r])return!1;n=n[r]}return!0};return{load:function(n){n=n||function(){};let r;for(;e.length>0;)!1===(r=e.shift()).apply(window.annexSearch.DependencyLoader)&&e.push(r);n(t)},push:function(t,r){"string"==typeof t&&(t=[t]);let i=[t,r],a=function(){return n.apply(window.annexSearch.DependencyLoader,i)};return e.push(a),!0}}}(),window.annexSearch.DependencyLoader.push([],function(){window.annexSearch.AnnexSearch=window.annexSearch.AnnexSearch||class AnnexSearch{static #a=null;static #b=[];static #c="0.1.17-stable";static #d(){for(var e in window.annexSearch)!1!==window.annexSearch.hasOwnProperty(e)&&"function"==typeof window.annexSearch[e]&&"BaseUtils"!==e&&!1!==e.endsWith("Utils")&&window.annexSearch[e].setup&&window.annexSearch[e].setup();return!0}static clearFocused(){return this.#a=null,!0}static getFocused(){return this.#a}static getRegistered(){return this.#b}static getRegisteredById(e){let t=this.#b;for(let n of t)if(n.getAttribute("data-annex-search-id")===e)return n;return null}static getShowing(){let e=this.#b,t=[];for(let n of e)!0===n.showing()&&t.push(n);return t}static getVersion(){return this.#c}static register(e){return!1===this.#b.includes(e)?(this.#b.push(e),!0):(this.#b=this.#b.filter(function(t){return t!==e}),this.#b.push(e),!0)}static setFocused(e){return this.#a=e,null!==e&&(this.register(e),!0)}static setup(){return this.#d(),window.customElements.define("annex-search-widget",window.annexSearch.AnnexSearchWidgetWebComponent),!0}}}),window.annexSearch.DependencyLoader.push([],function(){window.annexSearch.Base=window.annexSearch.Base||class Base{#e=new EventTarget;_$annexSearchWidget=null;_data={};constructor(e){this._$annexSearchWidget=e}#f(e,t,n){let r="data.set",i={};return i.key=e.join("."),i.value=n,this.dispatchCustomEvent(r,i),r="data.set."+e.join("."),this.dispatchCustomEvent(r,i),!0}addCustomEventListener(e,t,n=!1){return this.#e.addEventListener(e,t,{once:n}),!0}dispatchCustomEvent(e,t={}){t.$annexSearchWidget=this.getWebComponent();let n=new CustomEvent(e,{detail:t});return this.#e.dispatchEvent(n),!0}error(){let e=window.annexSearch.LoggingUtils,t=window.annexSearch.LoggingUtils.error.apply(e,arguments);return t}get(e){if(void 0===e)return this._data;let t=this._data[e];if(void 0!==t)return t;let n=e.split(".");if(1===n.length){let r=window.annexSearch.ErrorUtils.getMessage("base.get.key.invalid",e);this.error(r);return}for(let i of(t=this._data,n))if(void 0===(t=t[i])){let a=window.annexSearch.ErrorUtils.getMessage("base.get.key.invalid",e);this.error(a);return}return t}getHelper(e){return this.getWebComponent().getHelper(e)}getView(e){let t=(this.get("views")||{})[e]||void 0;if(void 0!==t)return t;if("root"===e)return this.getWebComponent().getView("root");let n=e.split(".");for(let r of(t=this.getWebComponent().getView("root"),n))"root"!==r&&(t=t.getView(r));return t}getWebComponent(){return this._$annexSearchWidget}merge(e){let t=this.#f.bind(this);return window.annexSearch.DataUtils.deepMerge(this._data,e,t),this.dispatchCustomEvent("data.merge",{data:e}),!0}set(e,t){if(void 0===e){let n=window.annexSearch.ErrorUtils.getMessage("base.set.key.undefined");return this.error(n),!1}if(void 0===t){let r=window.annexSearch.ErrorUtils.getMessage("base.set.value.undefined");return this.error(r),!1}let i=this._data,a=this._data[e],s=e;if(void 0===a){let o=e.split(".");for(s of(a=this._data,o))i=a,a=a[s]}i[s]=t,a=this;let u={key:e,value:t,reference:a};return this.dispatchCustomEvent("data.set",u),this.dispatchCustomEvent("data.set."+e,u),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.Base"],function(){window.annexSearch.BaseHelper=window.annexSearch.BaseHelper||class BaseHelper extends window.annexSearch.Base{}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseHelper"],function(){window.annexSearch.ConfigHelper=window.annexSearch.ConfigHelper||class ConfigHelper extends window.annexSearch.BaseHelper{_data={$container:null,autoFocusOnScroll:!0,callbacks:{result:{click:function(e){},copy:function(e){},focus:function(e){}},results:{empty:function(e){},error:function(e){},idle:function(e){},loaded:function(e){}},root:{hide:function(e){},show:function(e){},toggle:function(e){}}},chips:{idle:[]},cluster:{apiKey:null,collectionName:null,hostname:null,presetName:null},colorScheme:"auto",copy:{disabled:{title:"Search disabled",message:"Apologies but search has been disabled for the time being."},empty:{message:"No results found..."},error:{message:"Something went wrong..."},field:{placeholder:"Search..."},idle:{chips:"Popular searches:",message:"Start typing to begin your search..."},statusBar:{message:"Instantly search through our database"}},debug:!1,env:"prod",highlightTagName:"MARK",id:window.annexSearch.StringUtils.generateUUID(),keyboardShortcut:"⌘k",layout:"modal",modalAlignment:"top",resources:{css:["https://cdn.jsdelivr.net/gh/onassar/AnnexUI@0.1.17-stable/dist/bundle.min.css",]},searchOptions:{highlight_full_fields:null,highlight_affix_num_tokens:null,snippet_threshold:null},searchRequestMethod:"lifo",showOverlay:!0,templates:{}};constructor(e){super(e),this.#g(),this.#h()}#g(){return this.#i(),!0}#i(){let e=this.#j.bind(this);return this.addCustomEventListener("data.set",e),!0}#k(t){t.type;let n=this._data.chips.idle||[];for(let r in window.annexSearch.DataUtils.removeDuplicateObjects(n),n){let i=n[r];i.constructor===String&&(n[r]={label:i,query:i})}return!0}#j(a){return this.#k(a),!0}#l(s,o){let u=window.annexSearch.ErrorUtils.getMessage("stylesheets.failedLoading");return window.annexSearch.LoggingUtils.error(u,o),s(),!0}#m(l){return window.annexSearch.ElementUtils.waitForAnimation().then(l),!0}#n(c){let h=c.shadow,f=this.#l.bind(this),d=this.#m.bind(this);return Promise.all(Array.from(new Set(this.get("resources").css)).map(function(e){return new Promise(function(t,n){let r=document.createElement("link");r.rel="stylesheet",r.href=e,r.onload=t,r.onerror=f.bind(null,n),h.appendChild(r)})})).then(function(){return new Promise(function(e){d(e)})})}#h(){return"prod"!==this.get("env")}loadStylesheets(e){return this.#n(e)}triggerCallback(e,t={}){let n=this._data.callbacks||{},r=e.split(".");for(var i of r)if(null===(n=n[i]??null))return!1;let a=this.getWebComponent();t.$annexSearchWidget=a;let s=new CustomEvent(e,{detail:t});return n.apply(a,[s]),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseHelper"],function(){window.annexSearch.TypesenseHelper=window.annexSearch.TypesenseHelper||class TypesenseHelper extends window.annexSearch.BaseHelper{#o=null;#p=[];#q(e){let t=e.getOptions();if(null===t.q){let n=window.annexSearch.ErrorUtils.getMessage("typesenseHelper.options.q.null");return e.setError("option",n),!1}if(void 0===t.q){let r=window.annexSearch.ErrorUtils.getMessage("typesenseHelper.options.q.undefined");return e.setError("option",r),!1}if(""===t.q.trim()){let i=window.annexSearch.ErrorUtils.getMessage("typesenseHelper.options.q.empty");return e.setError("option",i),!1}let a=e.getSearchOptions();if(a.preset)return!0;if(null===a.query_by){let s=window.annexSearch.ErrorUtils.getMessage("typesenseHelper.searchOptions.query_by.null");return e.setError("searchOptions",s),!1}if(void 0===a.query_by){let o=window.annexSearch.ErrorUtils.getMessage("typesenseHelper.searchOptions.query_by.undefined");return e.setError("searchOptions",o),!1}return!0}abortLastRequest(){if(null===this.#o)return!1;let e=this.#o;this.#o=null,e.abort();let t=this.#p.indexOf(e);return -1!==t&&(this.#p.splice(t,1),!0)}getHighlightEndTag(){return"</"+this.getHelper("config").get("highlightTagName").toLowerCase()+">"}getHighlightStartTag(){return"<"+this.getHelper("config").get("highlightTagName").toLowerCase()+">"}replaceHightlightTags(e){let t=this.getHighlightStartTag(),n=this.getHighlightEndTag(),r=t.replace("<","&lt;").replace(">","&gt;"),i=n.replace("<","&lt;").replace(">","&gt;");return e=(e=e.replaceAll(r,t)).replaceAll(i,n)}search(e,t={}){this.abortLastRequest();let n=this.getWebComponent(),r=new window.annexSearch.TypesenseSearchRequest(n);return(r.setQuery(e),r.setOptions(t),!1===this.#q(r))?window.annexSearch.FunctionUtils.getEmptyPromise(r):(this.#o=r,this.#p.push(r),r.fetch())}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseHelper"],function(){window.annexSearch.WebComponentUIHelper=window.annexSearch.WebComponentUIHelper||class WebComponentUIHelper extends window.annexSearch.BaseHelper{#r=null;#s=2147483647;#t(){return this.getWebComponent().removeAttribute("inert"),!0}#u(){return this.getWebComponent().setAttribute("inert",""),!0}#v(){let e=this.getWebComponent();if(e.removeAttribute("data-annex-search-modal-alignment"),"modal"===e.getHelper("config").get("layout")){let t=e.getConfig("modalAlignment");return e.setAttribute("data-annex-search-modal-alignment",t),!0}return!1}#w(){let n=window.annexSearch.AnnexSearch.getRegistered();if(0===n.length||1===n.length)return!1;this.getWebComponent();let r=0;for(let i in n.reverse()){let a=n[i];a.removeAttribute("data-annex-search-modal-order"),"modal"===a.getHelper("config").get("layout")&&!1!==a.showing()&&(a.setAttribute("data-annex-search-modal-order",r),r++)}return!0}#x(){let s=this.getWebComponent();return"inline"===this.getHelper("config").get("layout")?(s.setAttribute("data-annex-search-overlay","0"),!0):!1===this.getHelper("config").get("showOverlay")?(s.setAttribute("data-annex-search-overlay","0"),!0):(s.setAttribute("data-annex-search-overlay","1"),!0)}#y(){let o=this.getWebComponent(),u=o.showing();return u=Number(u),o.setAttribute("data-annex-search-showing",u),!0}autoShow(){return"inline"===this.getHelper("config").get("layout")&&(this.getWebComponent().show(),!0)}blur(){this.getWebComponent().getView("root").blur();let e=this.#r;return window.annexSearch.ElementUtils.focus(e)}disable(){let e=this.getWebComponent();this.getHelper("config").triggerCallback("root.disable"),e.dispatchCustomEvent("root.disable"),e.setAttribute("data-annex-search-disabled","1");let t=this.getHelper("config").get("copy.disabled.title"),n=this.getHelper("config").get("copy.disabled.message");return e.showToast(t,n,null).setUnescapable(),!0}enable(){let e=this.getWebComponent();return this.getHelper("config").triggerCallback("root.enable"),e.dispatchCustomEvent("root.enable"),e.removeAttribute("data-annex-search-disabled"),window.annexSearch.ToastUtils.hideAll(e),!0}focus(){return this.#r=document.activeElement||null,this.setZIndex(),!0}hide(){let e=this.getWebComponent();this.getHelper("config").triggerCallback("root.hide"),e.dispatchCustomEvent("root.hide"),e.getView("root").blur(),this.#y(),this.#u(),this.#w();let t=this.#r;return new Promise(function(n,r){e.addEventListener("transitionend",function(){window.annexSearch.ElementUtils.focus(t).then(function(){n(!0)})},{once:!0})})}setAttributes(){let e=this.getWebComponent(),t=this.getHelper("config").get("colorScheme"),n=this.getHelper("config").get("id"),r=this.getHelper("config").get("layout");return e.setAttribute("data-annex-search-color-scheme",t),e.setAttribute("data-annex-search-id",n),e.setAttribute("data-annex-search-layout",r),e.setAttribute("data-annex-search-ready","1"),this.#v(),this.#x(),this.#y(),!0}setQueryAttribute(){let e=this.getWebComponent(),t=e.getView("root").getView("header.field").first("input").value;return t=t.trim(),e.setAttribute("data-annex-search-query",t),!0}setupConfigHelperCustomEventListeners(){let e=this.getHelper("config");return e.addCustomEventListener("data.set.colorScheme",function(e){return e.detail.$annexSearchWidget.getHelper("webComponentUI").setAttributes(),!0}),e.addCustomEventListener("data.set.id",function(e){return e.detail.$annexSearchWidget.getHelper("webComponentUI").setAttributes(),!0}),e.addCustomEventListener("data.set.layout",function(e){return e.detail.$annexSearchWidget.getHelper("webComponentUI").setAttributes(),!0}),e.addCustomEventListener("data.set.overlay",function(e){return e.detail.$annexSearchWidget.getHelper("webComponentUI").setAttributes(),!0}),!0}setZIndex(){let e=window.annexSearch.AnnexSearch.getRegistered();if(0===e.length||1===e.length)return!1;let t=this.#s,n=this.getWebComponent();for(let r in n.style.zIndex=t,e){let i=e[r];if(i===n||!1===i.showing())continue;let a=t-r-1;i.style.zIndex=a}return!0}show(){let e=this.getWebComponent();return(this.#y(),this.#t(),this.#w(),"inline"===e.getConfig("layout"))?e.focus().then(function(t){return e.getHelper("config").triggerCallback("root.show"),e.dispatchCustomEvent("root.show"),t}):"modal"===e.getConfig("layout")?e.focus().then(function(t){return e.getHelper("config").triggerCallback("root.show"),e.dispatchCustomEvent("root.show"),t}):new Promise(function(t,n){var r=e.focus.bind(e);e.addEventListener("transitionend",function(){r().then(function(n){e.getHelper("config").triggerCallback("root.show"),e.dispatchCustomEvent("root.show"),t(n)})},{once:!0})})}toggle(){let e=this.getWebComponent();return this.getHelper("config").triggerCallback("root.toggle"),e.dispatchCustomEvent("root.toggle"),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.Base"],function(){window.annexSearch.BaseRequest=window.annexSearch.BaseRequest||class BaseRequest extends window.annexSearch.Base{constructor(e){super(e)}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseRequest"],function(){window.annexSearch.TypesenseSearchRequest=window.annexSearch.TypesenseSearchRequest||class TypesenseSearchRequest extends window.annexSearch.BaseRequest{#z=null;#A=!1;#B=null;#C={page:1,per_page:10};#D=null;#E=null;#F(e){if(null==e)return e;if("string"==typeof e)return e.replace(/\{\{/g,"&#123;&#123;").replace(/\}\}/g,"&#125;&#125;");if(!0===Array.isArray(e)){let t=this.#F.bind(this);return e.map(function(e){return t(e)})}if("object"==typeof e){let n={};for(let r in e)!0===e.hasOwnProperty(r)&&(n[r]=this.#F(e[r]));return n}return e}#G(i,a){let s=this.#H.bind(this),o=this.#I.bind(this);return window.fetch(i,a).then(s).catch(o)}#J(){return{hostname:this.getHelper("config").get("cluster.hostname"),protocol:"https",apiKey:this.getHelper("config").get("cluster.apiKey"),collectionName:this.getHelper("config").get("cluster.collectionName"),presetName:this.getHelper("config").get("cluster.presetName")}}#K(){let u=this.#J();return u.protocol+"://"+u.hostname}#L(){return{"X-TYPESENSE-API-KEY":this.#J().apiKey,"Content-Type":"application/json"}}#M(){let l=new AbortController,c=this.#L(),h={method:"GET",signal:l.signal,headers:c};return this.#z=l,h}#N(){let f=this.getSearchOptions(),d=new URLSearchParams(f);for(let[p,g]of d.entries())g||d.delete(p);return d}#O(){let v=this.#K(),$=this.#J(),m=this.#N(),y=new URLSearchParams(m).toString();return v+"/collections/"+$.collectionName+"/documents/search?"+y}#I(w){let S=w.name,x=w.message;return this.setError(S,x),this}#P(b){b=this.#F(b),this.#E=b;let E=b?.message;if(void 0!==E)throw this.setError("typesenseSearchRequestResponse",E),Error();return!1===b.ok&&alert("hmmm"),this.#Q(),this}#H(U){let C=this.#P.bind(this);return U.json().then(C)}#Q(){let V=this.getWebComponent(),R=V.getMutator("typesenseSearchResponse")||null;return null!==R&&(R&&R.apply(V,[this]),!0)}abort(){if(!0===this.#A)return!1;this.#A=!0;let e=window.annexSearch.ErrorUtils.getMessage("typesenseSearchRequest.abort");return this.setError("abort",e),this.#z.abort(),!0}fetch(){let e=this.#O(),t=this.#M();return this.#G(e,t)}getError(){return this.#B}getOptions(){return this.#C}getQuery(){return this.#D}getResponse(){return this.#E}getSearchOptions(){let e=this.#J(),t=Object.assign({},this.#C);for(let n in t.preset=e.presetName||null,t)null===t[n]&&delete t[n];return t}logFailedEvent(){let e=window.annexSearch.ErrorUtils.getMessage("typesenseSearchRequest.failed.general");this.error(e);let t=this.getError();if("typesenseSearchRequestResponse"===t.key){let n=window.annexSearch.ErrorUtils.getMessage("typesenseSearchRequest.failed.responseReceived",t.message);if(this.error(n),!0===n.includes("Could not find a field named")){let r=window.annexSearch.ErrorUtils.getMessage("typesenseSearchRequest.failed.responseReceived.fieldTip");return this.error(r),!0}if(!0===n.includes("Forbidden - a valid `x-typesense-api-key` header must be sent.")){let i=window.annexSearch.ErrorUtils.getMessage("typesenseSearchRequest.failed.responseReceived.forbiddenTip");return this.error(i),!0}if(!0===n.includes("No search fields specified")){let a=window.annexSearch.ErrorUtils.getMessage("typesenseSearchRequest.failed.responseReceived.queryTip");this.error(a)}return!0}return e=window.annexSearch.ErrorUtils.getMessage("typesenseSearchRequest.failed.unknown",t.message),this.error(e),!0===e.includes("Failed to fetch")&&(e=window.annexSearch.ErrorUtils.getMessage("loggingUtils.fetchFailed.tip"),this.error(e)),!0}setError(e,t){return null===this.#B&&(this.#B={},this.#B.key=e,this.#B.message=t,!0)}setOptions(e){return this.#C=Object.assign({},this.#C,this.getHelper("config").get("searchOptions"),e),!0}setQuery(e){return this.#D=e,this.#C.q=e,this.#C.highlight_end_tag=this.getHelper("typesense").getHighlightEndTag(),this.#C.highlight_start_tag=this.getHelper("typesense").getHighlightStartTag(),!0}}}),window.annexSearch.DependencyLoader.push([],function(){window.annexSearch.BaseUtils=window.annexSearch.BaseUtils||class BaseUtils{static #R=!1;static setup(){return null!=document&&("complete"===document.readyState||"interactive"===document.readyState)}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.ClientUtils=window.annexSearch.ClientUtils||class ClientUtils extends window.annexSearch.BaseUtils{static copyToClipboard(e){return window.navigator.clipboard.writeText(e).catch(function(){let e=window.annexSearch.ErrorUtils.getMessage("clientUtils.copyToClipboard.failed");this.error(e)})}static isMac(){return window.navigator.platform.toUpperCase().indexOf("MAC")>=0}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}static setup(){return!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.DataUtils=window.annexSearch.DataUtils||class DataUtils extends window.annexSearch.BaseUtils{static deepMerge(e,t,n){function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function i(e,t){if(!Array.isArray(e)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return function e(t,a,s){if(s=s||[],!r(a))return t;for(let o in a){if(!Object.prototype.hasOwnProperty.call(a,o))continue;let u=a[o];if(void 0===u)continue;let l=s.concat(o),c=Object.prototype.hasOwnProperty.call(t,o),h=t[o];if(Array.isArray(u)){c&&i(h,u)||(c&&n&&n(l,h,u),t[o]=u.slice());continue}if(r(u)){r(h)||(c&&n&&n(l,h,u),t[o]={}),e(t[o],u,l);continue}c&&h===u||(c&&n&&n(l,h,u),t[o]=u)}return t}(e,t)}static findKeyInsensitiveValue(e,t){let n=Object.keys(e).find(function(e){return e.toLowerCase()===t.toLowerCase()});return n?e[n]:null}static removeDuplicateObjects(e){let t=Array.from(new Set(e));return e.length=0,e.push.apply(e,t),!0}static setup(){return!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.ElementUtils=window.annexSearch.ElementUtils||class ElementUtils extends window.annexSearch.BaseUtils{static #S={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,variable:"data"};static #T(e){let t=Object.assign({},e.get());return t.config=e.getHelper("config").get(),t}static #U(n){let r=n.constructor.name;return(r=r.replace(/View$/,"")).charAt(0).toLowerCase()+r.slice(1)}static #V(i,a){a=a||window.annexSearch.FunctionUtils.getPassThrough();let s=this.#W(i),o=window.annexSearch.libs._.template(this.#X(s),this.#S),u=this.#T(i),l;return a(o.apply(i,[u]))}static #W(c,h=null){let f=c.getWebComponent(),d=this.#U(c),p=f.getHelper("config").get("templates")[d]||window.annexSearch.TemplateUtils.getTemplate("auto-v0.1.0",d)||c.getMarkup();if("function"==typeof p){let g=this.#T(c);p=p.apply(c,[g])}return p||c.getMarkup()}static #Y(v,$=!0){let m=document.getElementsByTagName(v),y=[];for(let w of m)(!0!==$||!1!==this.fullyVisible(w))&&(!1!==$||!1!==this.partiallyVisible(w))&&y.push(w);return y}static #X(S){let x=S;return(x=x.replace(/\{\{\{([\s\S]+?)\}\}\}/g,"<%- $1 %>")).replace(/\{\{([\s\S]+?)\}\}/g,"<%= $1 %>")}static focus(e){return null===e||void 0===e||!1===window.annexSearch.ElementUtils.partiallyVisible(e)||!0===window.annexSearch.ClientUtils.isTouchDevice()?window.annexSearch.FunctionUtils.getEmptyPromise(!1):window.annexSearch.ElementUtils.waitForAnimation().then(function(){return e.focus({preventScroll:!0}),!0})}static fullyVisible(e){let t=e.getBoundingClientRect();return t.top>=0&&t.right<=window.innerWidth&&t.bottom<=window.innerHeight&&t.left>=0}static getVisibleWebComponents(e=!0){let t=this.#Y("annex-search-widget",e),n=[];for(let r of t)!1!==r.showing()&&!0!==r.disabled()&&n.push(r);return n}static partiallyVisible(e){let t=e.getBoundingClientRect();return t.top<window.innerHeight&&t.right>0&&t.bottom>0&&t.left<window.innerWidth}static renderViewElement(e,t=null){let n=this.#V(e,t),r=new DOMParser().parseFromString(n,"text/html").body.firstElementChild;return r.uuid=window.annexSearch.StringUtils.generateUUID(),r}static setup(){return!0}static waitForAnimation(){return new Promise(function(e,t){window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){e()})})})}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.ErrorUtils=window.annexSearch.ErrorUtils||class ErrorUtils extends window.annexSearch.BaseUtils{static #Z={"clientUtils.copyToClipboard.failed":"Could not copy string to clipboard.","fieldHeaderView.loadMore.limitReached":"Possible infinite loop during search query fetching. Check your result view template is visible.","annexSearchWidget.container.null":"Inline web components must have a $container defined before mounting.","annexSearchWidget.keyboardShortcut.reserved":"Keyboard shortcut {%0} already reserved. Setting to {null}.","base.get.key.invalid":"Invalid {key} value passed to {base.get}; found {%0}","base.set.key.undefined":"Invalid {key} value passed to {base.set}; found {undefined}","base.set.value.undefined":"Invalid {value} value passed to {base.set}; found {undefined}","interactionUtils.disabled":"Interaction not valid while $annexSearchWidget is disabled.","interactionUtils.zeroRegistered":"No registered $annexSearchWidget elements found","interactionUtils.unknownId":"Interaction attempt references an unknown $annexSearchWidget id.","interactionUtils.multipleRegistered":'Multiple registered $annexSearchWidget elements found. Unable to determine which $annexSearchWidget is the target without a leader "id:" attribute value.',"loggingUtils.fetchFailed.tip":"Tip: Double check that {config.cluster.hostname} is defined and correct.","stylesheets.failedLoading":"Could not load stylesheets.","typesenseSearchRequest.abort":"Abort method called against {window.annexSearch.TypesenseSearchRequest}","typesenseHelper.options.q.empty":"Invalid {q} value; found {empty string}","typesenseHelper.options.q.null":"Invalid {q} value; found {null}","typesenseHelper.options.q.undefined":"Invalid {q} value; found {undefined}","typesenseHelper.searchOptions.query_by.null":"Invalid {config.searchOptions.query_by} value; found {null}. Either {config.searchOptions.query_by} or {config.cluster.presetName} needs to be defined.","typesenseHelper.searchOptions.query_by.undefined":"Invalid {config.searchOptions.query_by} value; found {undefined}. Either {config.searchOptions.query_by} or {config.cluster.presetName} needs to be defined.","typesenseSearchRequest.failed.general":"Could not complete Typesense search request.","typesenseSearchRequest.failed.responseReceived":"Typesense response: %0","typesenseSearchRequest.failed.responseReceived.fieldTip":"Tip: Double check that {config.searchOptions.query_by} is referencing valid collection fields.","typesenseSearchRequest.failed.responseReceived.forbiddenTip":"Tip: Double check that {config.cluster.apiKey} and {config.cluster.collectionName} are defined and correct.","typesenseSearchRequest.failed.responseReceived.queryTip":"Tip: Double check that, if defined, both {config.cluster.presetName} and/or {config.searchOptions.query_by} are correct.","typesenseSearchRequest.failed.unknown":"Error: %0"};static getMessage(e,...t){let n=this.#Z[e];if(void 0===n)return null;for(let r=0;r<t.length;r++)n=n.replace(RegExp(`%${r}`,"g"),t[r]);return n}static setup(){return!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.FunctionUtils=window.annexSearch.FunctionUtils||class FunctionUtils extends window.annexSearch.BaseUtils{static #$=new Map;static debounce(e,t){let n;return function(...r){clearTimeout(n),n=setTimeout(function(){e.apply(this,r)},t)}}static getEmptyPromise(...e){return new Promise(function(t,n){t.apply(window,e)})}static getPassThrough(){return function(e){return e}}static limitReached(e,t,n){let r=Date.now();!1===this.#$.has(e)&&this.#$.set(e,[]);let i=this.#$.get(e),a=r-n;for(;i.length>0&&i[0]<=a;)i.shift();return i.length>=t||(i.push(r),!1)}static setup(){return!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.InteractionUtils=window.annexSearch.InteractionUtils||class InteractionUtils extends window.annexSearch.BaseUtils{static #_={scrollFocus:!0};static #aa=40;static #ab(){let e=document.body||document.head||document.documentElement,t=this.#ac.bind(this);return e.addEventListener("click",t),!0}static #ad(){let n=window,r=this.#ae.bind(this),i=this.#aa,a=window.annexSearch.FunctionUtils.debounce(r,i);return["touchmove","wheel"].forEach(function(e){n.addEventListener(e,a)}),!0}static #af(s){let o=s.split(":");return 0===o.length||1===o.length?null:(0,o[0])}static #ag(u){let l=u.split(":"),c=u;return 0===l.length||1===l.length?c:(l.shift(),c=l.join(""))}static #ah(h){let f=h.split(":"),d=h;return 0===f.length||1===f.length?d:(f.shift(),d=f.join(""))}static #ai(p){let g=p.split(":");if(0===g.length||1===g.length)return null;let v=g[0];return window.annexSearch.AnnexSearch.getRegisteredById(v)}static #aj($,m,y){if(null===$||!1===$.matches("["+y+"]")||!0===$.matches("annex-search-widget"))return null;m.preventDefault();let w=window.annexSearch.AnnexSearch.getRegistered();if(0===w.length){let S=window.annexSearch.ErrorUtils.getMessage("interactionUtils.zeroRegistered");return window.annexSearch.LoggingUtils.error(S),null}let x=$.getAttribute(y);if(null==x||""===(x=x.trim()))return null;let b=this.#af(x);if(null===b){if(1===w.length)return $;let E=window.annexSearch.ErrorUtils.getMessage("interactionUtils.multipleRegistered");return window.annexSearch.LoggingUtils.error(E),null}if(null===window.annexSearch.AnnexSearch.getRegisteredById(b)){let U=window.annexSearch.ErrorUtils.getMessage("interactionUtils.unknownId");return window.annexSearch.LoggingUtils.error(U),null}return $}static #ak(C){let V=this.#aj(C.target,C,"data-annex-search")||this.#aj(C.target.closest("[data-annex-search]"),C,"data-annex-search");if(null===V)return!1;let R=V.getAttribute("data-annex-search"),B=this.#ai(R)||window.annexSearch.AnnexSearch.getRegistered()[0],k=this.#ag(R);if("inline"===B.getConfig("layout")&&"clear"!==k&&"disable"!==k&&"enable"!==k&&"focus"!==k||!1===["clear","disable","enable","focus","hide","show","toggle"].includes(k))return!1;if("clear"===k){if(!0===B.disabled()){let A=window.annexSearch.ErrorUtils.getMessage("interactionUtils.disabled");return window.annexSearch.LoggingUtils.error(A),!1}return B.clear()}if("disable"===k){if(!0===B.disabled()){let L=window.annexSearch.ErrorUtils.getMessage("interactionUtils.disabled");return window.annexSearch.LoggingUtils.error(L),!1}return B.disable()}if("enable"===k)return B.enable();if("focus"===k){if(!0===B.disabled()){let T=window.annexSearch.ErrorUtils.getMessage("interactionUtils.disabled");return window.annexSearch.LoggingUtils.error(T),!1}return B.focus()}return"hide"===k?(B.hide(),!0):"show"===k?(B.show(),!0):"toggle"===k&&(B.toggle(),!0)}static #al(I){return I.target.constructor!==window.annexSearch.AnnexSearchWidgetWebComponent&&(window.annexSearch.AnnexSearch.setFocused(null),!1)}static #ac(W){return!0===this.#ak(W)||!0===this.#al(W)||!0===this.#am(W)}static #am(F){let D=this.#aj(F.target,F,"data-annex-search-query");if(null===D)return!1;let H=D.getAttribute("data-annex-search-query"),q=this.#ai(H)||window.annexSearch.AnnexSearch.getRegistered()[0];if(!0===q.disabled()){let M=window.annexSearch.ErrorUtils.getMessage("interactionUtils.disabled");return window.annexSearch.LoggingUtils.error(M),!1}let O=this.#ah(H);return q.show(),q.query(O),!0}static #ae(j){if(!0===window.annexSearch.ClientUtils.isTouchDevice()||!1===this.#_.scrollFocus)return!1;let K=document.activeElement||null,z=function(){let e=window.annexSearch.ElementUtils.getVisibleWebComponents(!1);if(0===e.length)return!1;let t=window.annexSearch.AnnexSearch.getFocused();if(null!==t&&"modal"===t.getConfig("layout")&&!0===t.showing()||null!==t&&"panel-left"===t.getConfig("layout")&&!0===t.showing()||null!==t&&"panel-right"===t.getConfig("layout")&&!0===t.showing())return!1;let n=e[0];return!1!==n.getConfig("autoFocusOnScroll")&&"inline"===n.getConfig("layout")&&(n.focus(),!0)};return null===K?z():!0!==K.matches("button, input, select, textarea")&&z()}static setup(){if(!0===super.setup())return this.#ab(),this.#ad(),!0;let e=window.annexSearch.InteractionUtils.setup.bind(window.annexSearch.InteractionUtils);return document.addEventListener("DOMContentLoaded",e),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.KeyboardShortcutUtils=window.annexSearch.KeyboardShortcutUtils||class KeyboardShortcutUtils extends window.annexSearch.BaseUtils{static #_={documentCatchAll:!0,documentDelete:!0,documentPaste:!0,documentEscape:!0,documentKeyboardNavigation:!0,documentKeyboardShortcut:!0,documentSelectAll:!0,documentSlash:!0,fieldEnter:!0,fieldEscape:!0,resultCopy:!0};static #an(){let e=this.#ao.bind(this);return document.addEventListener("paste",e),!0}static #ap(){let t=this.#aq.bind(this);return document.addEventListener("keydown",t),!0}static #ar(){return window.annexSearch.AnnexSearch.getFocused()}static #as(){return this.#ar().getView("root").getView("header.field")}static #at(){return this.#ar().getView("root").getView("body.results.found")}static #au(){return window.annexSearch.AnnexSearch.getRegistered()}static #av(n){if(!1===this.#_.documentCatchAll)return!1;let r=this.#ar();if(null===r||!0===r.disabled()||!1===r.showing()||!0===n.metaKey||!0===n.ctrlKey)return!1;let i=n.key;if(i.length>1||" "===i)return!1;let a=r.shadow.activeElement,s=this.#as(),o=this.#at(),u=function(){s.focus(),s.clear(),s.nullifyLastTypesenseSearchResponse(),s.append(i),o.smoothScrollToTop(),o.resetFocusedIndex(),s.first("input").dispatchEvent(new Event("input",{bubbles:!0,shiftKey:n.shiftKey}))};return null===a?u():!0!==a.matches("input")&&u()}static #aw(l){if(!1===this.#ax(l,"resultCopy","c")||!1===this.#ay(l)||!0===l.shiftKey)return!1;let c=this.#ar().shadow.activeElement;if(null===c)return!1;let h=this.#at().getResults();for(let f of h)if(f.getElement()===c)return f.dispatchCopyEvent(l),!0;return!1}static #az(d){if(!1===this.#ax(d,"documentDelete","backspace"))return!1;let p=this.#ar().shadow.activeElement,g=this.#as(),v=this.#at(),$=function(){g.focus(),g.decrement(),g.nullifyLastTypesenseSearchResponse(),v.smoothScrollToTop(),v.resetFocusedIndex(),g.first("input").dispatchEvent(new Event("input",{bubbles:!0}))};return null===p?$():!0!==p.matches("input")&&$()}static #aA(m){if(!1===this.#ax(m,"documentEscape","escape"))return!1;let y=this.#ar();if(!0===y.disabled())return y.hide(),!0;let w=y.shadow.activeElement;return null===w?(this.#as().focus(),!0):!0!==w.matches("input")&&(this.#as().focus(),!0)}static #aB(S){if(!1===this.#ax(S,"documentKeyboardNavigation",["tab","arrowdown","arrowup"])||!0===this.#ay())return!1;let x=S.key.toLowerCase();S.preventDefault();let b="previous";"arrowdown"===x&&(b="next"),"tab"===x&&!1===S.shiftKey&&(b="next");let E=this.#at();return"next"===b?(E.next(),!0):(E.previous()||this.#ar().getView("root").getView("root.header.field").focus(),!0)}static #aC(U){if(!1===this.#_.documentKeyboardShortcut||!0===U.shiftKey)return!1;let C=this.#au();for(let V of C){let R=V.getHelper("config").get("keyboardShortcut");if(null==R||"⌘"!==(R=R.trim().toLowerCase()).charAt(0)||!1===this.#ay(U))continue;let B;if(U.key.toLowerCase()===R.charAt(1)&&!1!==V.mounted()){if(U.preventDefault(),"inline"===V.getConfig("layout")){if(!0===V.focused())return V.blur(),!0;return V.focus(),!0}if(!1===V.showing()||!0===V.focused())return V.toggle(),!0;return V.focus(),!0}}return!1}static #ao(k){if(0===this.#au().length||null===this.#ar())return!1;let A=this.#ar();if(!0===A.disabled()||!1===A.showing()||!1===this.#_.documentPaste)return!1;let L=k.clipboardData.getData("text");if(0===L.length||0===(L=L.trim()).length)return!1;let T=A.shadow.activeElement,I=this.#as(),W=this.#at(),F=function(){I.focus(),I.clear(),I.nullifyLastTypesenseSearchResponse(),I.append(L),W.smoothScrollToTop(),W.resetFocusedIndex(),I.first("input").dispatchEvent(new Event("input",{bubbles:!0}))};return null===T?F():!0!==T.matches("input")&&F()}static #aD(D){if(!1===this.#ax(D,"documentSelectAll","a")||!1===this.#ay(D))return!1;D.preventDefault();let H=this.#as();return H.focus(),H.select(),!0}static #aE(q){if(!1===this.#ax(q,"documentSlash","/"))return!1;let M=this.#ar().shadow.activeElement,O=this.#as();return null===M?(O.focus(),!0):!0!==M.matches("input")&&(O.focus(),!0)}static #aF(j){if(!1===this.#ax(j,"fieldEnter","enter"))return!1;if(!0===window.annexSearch.ClientUtils.isTouchDevice())return document.activeElement&&document.activeElement.blur(),!1;let K=this.#ar().shadow.activeElement;if(null===K)return!1;if(!0===K.matches("input")){let z=this.#at();if(null===z.getFocusedIndex()){let P=z.getResults()[0];return void 0!==P&&(j.stopPropagation(),P.focus(),P.simulateClick(j),!0)}}return!1}static #aG(N){if(!1===this.#ax(N,"fieldEscape","escape"))return!1;let G=this.#ar(),Z=G.shadow.activeElement;if(null===Z)return!1;if(!0===Z.matches("input")){N.preventDefault(),N.stopPropagation();let Q=Z.value.trim(),Y=this.#at();if(""===Q)return G.hide(),!0;let J=this.#as();return J.clear(),G.getHelper("webComponentUI").setQueryAttribute(),J.nullifyLastTypesenseSearchResponse(),Y.clearResults(),Y.getView("root").setStateKey("idle"),G.getHelper("config").triggerCallback("results.idle"),G.dispatchCustomEvent("results.idle"),!0}return!1}static #aq(X){return 0!==this.#au().length&&(!0===this.#aw(X)||!0===this.#aC(X)||!0===this.#aB(X)||!0===this.#aA(X)||!0===this.#aG(X)||!0===this.#aF(X)||!0===this.#aE(X)||!0===this.#aD(X)||!0===this.#az(X)||(this.#av(X),!0))}static #ay(){return!0===window.annexSearch.ClientUtils.isMac()?!0===event.metaKey:!0===event.ctrlKey}static #ax(ee,et,en){if(0===this.#au().length)return!1;let er=this.#ar();if(null==er||!0===er.disabled()||!1===er.showing()||!1===this.#_[et])return!1;en=[].concat(en);let ei=ee.key.toLowerCase();return!1!==en.includes(ei)}static setup(){if(!0===super.setup())return this.#an(),this.#ap(),!0;let e=window.annexSearch.KeyboardShortcutUtils.setup.bind(window.annexSearch.KeyboardShortcutUtils);return document.addEventListener("DOMContentLoaded",e),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.LoggingUtils=window.annexSearch.LoggingUtils||class LoggingUtils extends window.annexSearch.BaseUtils{static #aH={error:"Annex Search"};static error(){let e="%c["+this.#aH.error+"]",t=Array.from(arguments);return t.unshift("color: red; font-weight: bold; font-family: monospace;"),t.unshift(e),window.console&&window.console.log&&window.console.log.apply(window,t),!0}static setup(){return!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.StringUtils=window.annexSearch.StringUtils||class StringUtils extends window.annexSearch.BaseUtils{static generateUUID(){let e="",t;for(t=0;t<36;t++)8===t||13===t||18===t||23===t?e+="-":14===t?e+="4":19===t?e+=(3&(16*Math.random()|0)|8).toString(16):e+=(16*Math.random()|0).toString(16);return e}static setup(){return!0}static validURL(e){return/^(https?:\/\/)?([\w\-]+\.)+[a-z]{2,}(:\d+)?(\/\S*)?$/i.test(e)}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.TemplateUtils=window.annexSearch.TemplateUtils||class TemplateUtils extends window.annexSearch.BaseUtils{static #aI={"auto-v0.1.0":{templates:{resultFoundResultsBody:this.#aJ()}},"sku-v0.1.0":{templates:{resultFoundResultsBody:`
                        <div data-view-name="ResultFoundResultsBodyView" part="result" class="clearfix">
                            <%
                                let imageUrl = data.hit.document.imageUrl || '',
                                    validImage = window.annexSearch.StringUtils.validURL(imageUrl);
                                if (validImage === true) {
                            %>
                                <div class="image" part="result-image">
                                    <img src="<%- (imageUrl) %>" part="result-image-img" />
                                </div>
                            <%
                                }
                            %>
                            <div class="content" part="result-content">
                                <div class="title" part="result-content-title">{{{data?.hit?.highlight?.name?.snippet || data?.hit?.document?.name || '(unknown name)'}}}</div>
                                <div class="body" part="result-content-body">{{{data?.hit?.highlight?.description?.snippet || data?.hit?.document?.description || '(unknown description)'}}}</div>
                                <div class="price badge" part="result-content-price">\${{{data?.hit?.document?.price.toLocaleString() || '(unknown price)'}}}</div>
                            </div>
                        </div>`}},"webResource-v0.1.0":{templates:{resultFoundResultsBody:`
                        <a data-view-name="ResultFoundResultsBodyView" href="{{data.hit.document.uri}}" part="result" class="clearfix">
                            <%
                                let imageUrl = data.hit.document.imageUrl || '',
                                    validImage = window.annexSearch.StringUtils.validURL(imageUrl);
                                if (validImage === true) {
                            %>
                                <div class="image" part="result-content-image">
                                    <img src="<%- (imageUrl) %>" part="result-content-image-img" />
                                </div>
                            <%
                                }
                            %>
                            <div class="content" part="result-content">
                                <div class="title" part="result-content-title">{{{data?.hit?.highlight?.title?.snippet || data?.hit?.document?.title || '(unknown title)'}}}</div>
                                <div class="body" part="result-content-body">{{{data?.hit?.highlight?.body?.snippet || data?.hit?.document?.body || '(unknown body)'}}}</div>
                                <div class="uri truncate" part="result-content-uri">{{data.hit.document.uri}}</div>
                            </div>
                        </a>`}}};static #aJ(){return function(e){e.hit;let t,n,r,i;for(let a of["asset","assetUrl","assetUrl","image_path","imagePath","img_path","imgPath","image","imageUri","imageUrl","img","imgUri","imgUrl","openGraph","openGraphUri","openGraphUrl","openGraphThumb","openGraphThumbUri","openGraphThumbUrl","openGraphImage","openGraphImageUri","openGraphImageUrl","photo","photoUri","photoUrl","picture","pictureUri","pictureUrl","thumb","thumbUri","thumbUrl","thumbnail","thumbnailUri","thumbnailUrl",])t=t||window.annexSearch.DataUtils.findKeyInsensitiveValue(e?.hit?.highlight,a)?.snippet||window.annexSearch.DataUtils.findKeyInsensitiveValue(e?.hit?.document,a)||null;for(let s of["articleTitle","caption","contentTitle","displayName","documentTitle","header","heading","headline","label","listingTitle","metaTitle","name","nameText","pageTitle","shortTitle","subject","term","title","titleText",])n=n||window.annexSearch.DataUtils.findKeyInsensitiveValue(e?.hit?.highlight,s)?.snippet||window.annexSearch.DataUtils.findKeyInsensitiveValue(e?.hit?.document,s)||null;for(let o of["article","articleBody","body","content","description","details","excerpt","mainText","message","note","paragraph","post","snippet","story","summary","text",])r=r||window.annexSearch.DataUtils.findKeyInsensitiveValue(e?.hit?.highlight,o)?.snippet||window.annexSearch.DataUtils.findKeyInsensitiveValue(e?.hit?.document,o)||null;for(let u of["canonical","canonicalUri","canonicalUrl","endpoint","endpointUri","endpointUrl","fullUri","fullUrl","href","link","linkUri","linkUrl","pageUri","pageUrl","permalink","permalinkUri","permalinkUrl","redirectUri","redirectUrl","sourceUri","sourceUrl","targetUri","targetUrl","uri","url",])i=i||window.annexSearch.DataUtils.findKeyInsensitiveValue(e?.hit?.highlight,u)?.snippet||window.annexSearch.DataUtils.findKeyInsensitiveValue(e?.hit?.document,u)||null;return`
                <%
                    let validUri = window.annexSearch.StringUtils.validURL('`+i+`');
                    if (validUri === true) {
                %>
                    <a data-view-name="ResultFoundResultsBodyView" class="clearfix" part="result" href="`+i+`">
                <% } else { %>
                    <div data-view-name="ResultFoundResultsBodyView" class="clearfix" part="result">
                <% } %>
                    <%
                        let validImage = window.annexSearch.StringUtils.validURL('`+t+`');
                        if (validImage === true) {
                    %>
                        <div class="image" part="result-image">
                            <img src="`+t+`" part="result-image-img" />
                        </div>
                    <% } %>
                    <div class="content" part="result-content">
                        <div class="title" part="result-content-title">`+(n||"(no title found)")+`</div>
                        <div class="body" part="result-content-body">`+(r||"(no body found)")+`</div>
                        <%
                            if (validUri === true) {
                                // let uri = 
                                // uri = uri.replace(/^https?:///, '');
                                // replace(/^https?://(www.)?/, '');
                        %>
                            <div class="uri truncate" part="result-content-uri">`+i+`</div>
                        <% } %>
                    </div>
                <% if (validUri === true) { %>
                    </a>
                <% } else { %>
                    </div>
                <% } %>`}}static getTemplate(e,t){return this.#aI[e]?.templates?.[t]||null}static getTemplates(e,t={}){return window.annexSearch.DataUtils.deepMerge(t,this.#aI[e]?.templates||{}),t}static setup(){return!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.TimerUtils=window.annexSearch.TimerUtils||class TimerUtils extends window.annexSearch.BaseUtils{static #aK=[];static build(e,t){let n=t.seconds,r=new window.annexSearch.TimerView(e,n),i=e.shadow.querySelector("div.content");return this.#aK.push(r),r.mount(i),r}static remove(e){let t=this.#aK.indexOf(e);return -1!==t&&(this.#aK.splice(t,1),!0)}static setup(){return!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.ToastUtils=window.annexSearch.ToastUtils||class ToastUtils extends window.annexSearch.BaseUtils{static #aL=5e3;static #aM=[];static build(e,t){let n=t.title,r=t.message,i=new window.annexSearch.ToastView(e,n,r),a=e.shadow.querySelector("div.content");return this.#aM.push(i),i.mount(a),i}static get(e){let t=[];for(let n of this.#aM)n.getWebComponent()===e&&t.push(n);return t}static getDuration(){return this.#aL}static hideAll(e){let t=this.get(e);for(let n of t)n.hide();return!0}static remove(e){let t=this.#aM.indexOf(e);return -1!==t&&(this.#aM.splice(t,1),!0)}static setup(){return!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.VendorUtils=window.annexSearch.VendorUtils||class VendorUtils extends window.annexSearch.BaseUtils{static #aN(){let e=_.noConflict();return window.annexSearch.libs=window.annexSearch.libs||{},window.annexSearch.libs._=e,!0}static setup(){return this.#aN(),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.Base"],function(){window.annexSearch.BaseView=window.annexSearch.BaseView||class BaseView extends window.annexSearch.Base{_$element=null;_data={views:{}};constructor(e){super(e),this._$element=document.createElement("template"),this._$element.view=this}click(e){return this.event("click",e),!0}event(e,t,n=!1){return this._$element.addEventListener(e,t,{once:n}),!0}find(e){return Array.from(this._$element.querySelectorAll(e))}first(e){return this._$element.querySelector(e)}getElement(){return this._$element}getMarkup(){return this._markup}mount(e){this.render();let t=this._$element;return e.appendChild(t),!0}once(e,t){return this.event(e,t,!0),!0}removeAttribute(e){return this._$element.removeAttribute(e),!0}render(e=null){let t=window.annexSearch.ElementUtils.renderViewElement(this,e);return t.view=this,this._$element.replaceWith(t),this._$element=t,!0}setAttribute(e,t){return this._$element.setAttribute(e,t),!0}setView(e,t){let n=this.get("views")||{};return n[e]=t,this.set("views",n),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.BodyView=window.annexSearch.BodyView||class BodyView extends window.annexSearch.BaseView{_markup=`
<div data-view-name="BodyView" part="body">
</div>`;#aO(){let e=new window.annexSearch.ErrorBodyView(this._$annexSearchWidget),t=this._$element;return this.setView("error",e),e.mount(t),!0}#aP(){let n=new window.annexSearch.IdleBodyView(this._$annexSearchWidget),r=this._$element;return this.setView("idle",n),n.mount(r),!0}#aQ(){let i=new window.annexSearch.ResultsBodyView(this._$annexSearchWidget),a=this._$element;return this.setView("results",i),i.mount(a),!0}mount(e){return super.mount(e),this.#aO(),this.#aP(),this.#aQ(),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.ErrorBodyView=window.annexSearch.ErrorBodyView||class ErrorBodyView extends window.annexSearch.BaseView{_markup=`
<div data-view-name="ErrorBodyView" part="error">
    <%
        let message = data?.config?.copy?.error?.message ?? 'Something went wrong...';
        message = message.trim();
    %>
    <div class="content" part="error-content">
        <div class="graphic" part="error-content-graphic"></div>
        <div class="message" part="error-content-message"><%= (message) %></div>
    </div>
</div>`}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.IdleBodyView=window.annexSearch.IdleBodyView||class IdleBodyView extends window.annexSearch.BaseView{#aR=[];_markup=`
<div data-view-name="IdleBodyView" part="idle">
    <%
        let message = data?.config?.copy?.idle?.message ?? 'Start typing to begin your search...';
        message = message.trim();
    %>
    <div class="chips">
        <div class="label"><%- (data?.config?.copy?.idle?.chips) %></div>
        <div class="list clearfix"></div>
    </div>
    <div class="content" part="idle-content">
        <div class="graphic" part="idle-content-graphic"></div>
        <div class="message" part="idle-content-message"><%- (message) %></div>
    </div>
</div>`;#aS(e){let t=new window.annexSearch.ChipView(this._$annexSearchWidget),n=this.first(".chips .list");return t.set("chip",e),this.#aR.push(t),t.mount(n),!0}#aT(){let r=this.getHelper("config").get("chips.idle")||[];if(0===r.length)return this.first(".chips").remove(),!1;for(var i of r)this.#aS(i);return!0}render(){return super.render(),this.#aT(),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.EmptyResultsBodyView=window.annexSearch.EmptyResultsBodyView||class EmptyResultsBodyView extends window.annexSearch.BaseView{_markup=`
<div data-view-name="EmptyResultsBodyView" part="empty">
    <%
        let message = data?.config?.copy?.empty?.message ?? 'Something went wrong...';
        message = message.trim();
    %>
    <div class="content" part="empty-content">
        <div class="graphic" part="empty-content-graphic"></div>
        <div class="message" part="empty-content-message"><%- (message) %></div>
    </div>
</div>`}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.FoundResultsBodyView=window.annexSearch.FoundResultsBodyView||class FoundResultsBodyView extends window.annexSearch.BaseView{#aU=null;#aV=[];#aW=60;#aX=.65;_markup=`
<div data-view-name="FoundResultsBodyView" part="found">
</div>`;#aY(){return this.#aZ(),!0}#aZ(){let e=this.#a$.bind(this),t=this.#aW;return window.annexSearch.FunctionUtils.debounce(e,t),this.event("scroll",e),!0}#a$(n){let r;return!(this._$element.scrollTop+this._$element.clientHeight<this._$element.scrollHeight*this.#aX)&&(this.getView("root.header.field").loadMore(),!0)}#a_(i){let a=new window.annexSearch.ResultFoundResultsBodyView(this._$annexSearchWidget),s=this._$element;return a.set("hit",i),this.#aV.push(a),a.mount(s),!0}clearFocused(){let e=this.find(".focused");for(let t of e)t.classList.remove("focused");return!0}clearResults(){for(this.#aV=[];this._$element.firstChild;)this._$element.removeChild(this._$element.firstChild);return this.scrollToTop(),!0}containsScrollbar(){let e=this._$element;return e.scrollHeight>e.clientHeight}mountResults(e){let t=e.hits||[];if(0===t.length)return!1;for(var n of t)this.#a_(n);return!0}getFocusedIndex(){return this.#aU}getResults(){return this.#aV}next(){return 0!==this.#aV.length&&(null===this.#aU?(this.#aU=0,this.#aV[this.#aU].focus(),!0):this.#aU!==this.#aV.length-1&&(++this.#aU,this.#aV[this.#aU].focus(),!0))}previous(){return 0!==this.#aV.length&&null!==this.#aU&&(0===this.#aU?(this.#aU=null,!1):(--this.#aU,this.#aV[this.#aU].focus(),!0))}render(){return super.render(),this.#aY(),!0}resetFocusedIndex(){return this.setFocusedIndex(null)}scrollToTop(){let e=this._$element;return window.annexSearch.ElementUtils.waitForAnimation().then(function(){e.scrollTop=0}),!0}setFocusedIndex(e){return this.#aU=e,!0}setFocusedIndexByResultView(e){let t=this.#aV.indexOf(e);return this.setFocusedIndex(t),!0}smoothScrollToTop(){let e=this._$element;return window.annexSearch.ElementUtils.waitForAnimation().then(function(){e.scrollTo({top:0,behavior:"smooth"})}),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.ResultFoundResultsBodyView=window.annexSearch.ResultFoundResultsBodyView||class ResultFoundResultsBodyView extends window.annexSearch.BaseView{_markup=`
<a data-view-name="ResultFoundResultsBodyView" part="result">
    <div class="content" part="result-content">
        <div class="title" part="result-content-title">(no valid template defined)</div>
        <div class="body" part="result-content-body">(no valid template defined)</div>
        <div class="uri truncate" part="result-content-uri">(no valid template defined)</div>
    </div>
</a>`;#a0(){let e=this.#a1.bind(this);return this.click(e),!0}#aY(){return this.#a0(),this.#a2(),this.#a3(),this.#ap(),!0}#a2(){let t=this.#a4.bind(this);return this.event("focus",t),!0}#a3(){let n=this.first("img");if(null===n)return!1;let r=this.#a5.bind(this);return n.addEventListener("load",r),!0}#ap(){if(!0===this._$element.hasAttribute("href"))return!1;let i=this.#aq.bind(this);return this.event("keydown",i),!0}#a1(a){let s=this.get("hit"),o=this._$element,u={$result:o,event:a,hit:s};return this._$annexSearchWidget.getHelper("config").triggerCallback("result.click",u),this._$annexSearchWidget.dispatchCustomEvent("result.click",u),this.getView("root.body.results.found").setFocusedIndexByResultView(this),!0}#a4(l){let c=this.get("hit"),h=this._$element,f={$result:h,event:l,hit:c};return this._$annexSearchWidget.getHelper("config").triggerCallback("result.focus",f),this._$annexSearchWidget.dispatchCustomEvent("result.focus",f),this.getView("root.body.results.found").setFocusedIndexByResultView(this),this.getView("root.body.results.found").clearFocused(),this._$element.classList.add("focused"),!0}#a5(d){return this.first("img").parentNode.classList.add("loaded"),!0}#aq(p){let g=p.key;return"enter"===(g=g.toLowerCase())&&(this.simulateClick(p),!0)}#a6(v){return v=this.getHelper("typesense").replaceHightlightTags(v)}#a7(){let $=this.getView("root.body.results.found").getResults().indexOf(this);return this.setAttribute("data-index",$),!0}#a8(){return!0!==this._$element.hasAttribute("href")&&(this.setAttribute("tabindex",0),!0)}dispatchCopyEvent(e){let t=this.get("hit"),n=this._$element,r={$result:n,event:e,hit:t};return this._$annexSearchWidget.getHelper("config").triggerCallback("result.copy",r),this._$annexSearchWidget.dispatchCustomEvent("result.copy",r),this.getView("root.body.results.found").setFocusedIndexByResultView(this),!0}focus(){this._$element.focus();let e=this._$element,t=this.getView("root.body.results.found").getElement();return t.scrollTo({top:e.offsetTop-t.offsetTop-t.clientHeight/2,behavior:"smooth"}),!0}render(){let e=this.#a6.bind(this);return super.render(e),this.#a7(),this.#a8(),this.#aY(),!0}simulateClick(e){let t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,shiftKey:e.shiftKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey});return this._$element.dispatchEvent(t),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.ResultsBodyView=window.annexSearch.ResultsBodyView||class ResultsBodyView extends window.annexSearch.BaseView{_markup=`
<div data-view-name="ResultsBodyView" part="results">
</div>`;#a9(){let e=new window.annexSearch.EmptyResultsBodyView(this._$annexSearchWidget),t=this._$element;return this.setView("empty",e),e.mount(t),!0}#ba(){let n=new window.annexSearch.FoundResultsBodyView(this._$annexSearchWidget),r=this._$element;return this.setView("found",n),n.mount(r),!0}mount(e){return super.mount(e),this.#a9(),this.#ba(),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.ChipView=window.annexSearch.ChipView||class ChipView extends window.annexSearch.BaseView{_markup=`
<a data-view-name="ChipView" href="#" part="chip">
    <span class="label" part-chip-label"><%= (data.chip.label) %></span>
</a>`;#a0(){let e=this.#a1.bind(this);return this.click(e),!0}#aY(){return this.#a0(),!0}#a1(t){t.preventDefault();let n=this.get("chip").query;return this._$annexSearchWidget.query(n),!0}render(){return super.render(),this.#aY(),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.TimerView=window.annexSearch.TimerView||class TimerView extends window.annexSearch.BaseView{#bb=null;#bc=!1;_markup=`
<div data-view-name="TimerView" part="timer">
    <div class="remaining" part="timer-remaining"><%= (data.remaining) %></div>
</div>`;constructor(e,t){super(e),this.set("seconds",t),this.set("remaining",t),this.#bd()}#bd(){let e=this.render.bind(this);return this.addCustomEventListener("data.set.remaining",e),!0}#be(){return this._$element.remove(),window.annexSearch.TimerUtils.remove(this),!0}#bf(){if(0===this.get("remaining"))return this.hide(),!0;1===this.get("remaining")&&this.dispatchCustomEvent("complete");let t=this.get("remaining");return t-=1,this.set("remaining",t),!0}#bg(){let n=setInterval(this.#bf.bind(this),1e3);return this.#bb=n,!0}hide(){this.#bc=!1,this._$element.classList.remove("visible"),clearTimeout(this.#bb);var e=this.#be.bind(this);return this.once("transitionend",e),!0}render(){return super.render(),!0===this.#bc&&this._$element.classList.add("visible"),!0}show(){if(!0===this.#bc)return!1;this.#bc=!0,this.#bg();let e=this._$element;window.annexSearch.ElementUtils.waitForAnimation().then(function(){e.classList.add("visible")});let t=this;return new Promise(function(e,n){t.addCustomEventListener("complete",e,!0)})}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.ToastView=window.annexSearch.ToastView||class ToastView extends window.annexSearch.BaseView{#aL=window.annexSearch.ToastUtils.getDuration();#bh=!0;#bc=!1;#bi=null;_markup=`
<div data-view-name="ToastView" part="toast">
    <div class="title" part="toast-title"><%= (data?.title ?? '(no title)') %></div>
    <div class="message" part="toast-message"><%= (data?.message ?? '(no message)') %></div>
</div>`;constructor(e,t=null,n=null){super(e),this.set("title",t),this.set("message",n)}#a0(){let e=this.#a1.bind(this);return this.click(e),!0}#aY(){return this.#a0(),this.addCustomEventListener("data.set.message",this.render.bind(this)),this.addCustomEventListener("data.set.title",this.render.bind(this)),!0}#be(){return this._$element.remove(),window.annexSearch.ToastUtils.remove(this),!0}#a1(t){return!1!==this.#bh&&(this.hide(),!0)}#bj(){let n=this._$annexSearchWidget,r=window.annexSearch.ToastUtils.get(n);for(let i of r)i!==this&&i.hide();return!0}#bk(){if(null===this.#aL)return!1;let a,s=setTimeout(this.hide.bind(this),this.#aL);return this.#bi=s,!0}hide(){this.#bc=!1,this._$element.classList.remove("visible"),clearTimeout(this.#bi);var e=this.#be.bind(this);return this.once("transitionend",e),!0}render(){return super.render(),!0===this.#bc&&this._$element.classList.add("visible"),this.#aY(),!0}setDuration(e=null){return this.#aL=e,!0}setUnescapable(){return this.#bh=!1,!0}show(){if(!0===this.#bc)return!1;this.#bc=!0,this.#bj(),this.#bk();let e=this._$element;return window.annexSearch.ElementUtils.waitForAnimation().then(function(){e.classList.add("visible")}),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.BrandingBarFooterView=window.annexSearch.BrandingBarFooterView||class BrandingBarFooterView extends window.annexSearch.BaseView{_markup=`
<div data-view-name="BrandingBarFooterView" part="brandingBar">
    Built with <a href="https://annexsearch.com/" target="_blank" part="brandingBar-anchor">Annex</a>
    <!--Powered by <a href="https://annexsearch.com/" target="_blank">Annex</a>-->
</div>`}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.FooterView=window.annexSearch.FooterView||class FooterView extends window.annexSearch.BaseView{_markup=`
<div data-view-name="FooterView" part="footer" class="clearfix">
</div>`;#bl(){let e=new window.annexSearch.BrandingBarFooterView(this._$annexSearchWidget),t=this._$element;return this.setView("brandingBar",e),e.mount(t),!0}#bm(){let n=new window.annexSearch.StatusBarFooterView(this._$annexSearchWidget),r=this._$element;return this.setView("statusBar",n),n.mount(r),!0}mount(e){return super.mount(e),this.#bm(),this.#bl(),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.StatusBarFooterView=window.annexSearch.StatusBarFooterView||class StatusBarFooterView extends window.annexSearch.BaseView{_markup=`
<div data-view-name="StatusBarFooterView" part="statusBar">
    <%
        let val = data.config.copy.statusBar.message;
    %>
    <div class="message truncate" part="statusBar-message"><%- (val) %></div>
</div>`}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.FieldHeaderView=window.annexSearch.FieldHeaderView||class FieldHeaderView extends window.annexSearch.BaseView{#bn=null;#bo=!1;#bp=60;#bi=null;_markup=`
<div data-view-name="FieldHeaderView" part="field" class="clearfix">
    <%
        let label = data?.config?.keyboardShortcut ?? '';
        label = label.toUpperCase();
        let placeholder = data?.config?.copy?.field?.placeholder ?? 'Search...';
    %>
    <div class="label" part="field-label"><%- (label) %></div>
    <div class="clear icon icon-plus-circle icon-size-14" part="field-clear"></div>
    <div class="input" part="field-input">
        <input type="search" name="query" id="query" spellcheck="false" autocapitalize="off" autocorrect="off" placeholder="<%- (placeholder) %>" part="field-input-input" />
    </div>
</div>`;#bq(){let e=this.first(".clear"),t=this.#br.bind(this);return e.addEventListener("click",t),!0}#aY(){return this.#bq(),this.#bs(),!0}#bs(){let n=this.first("input"),r=this.#bt.bind(this);return n.addEventListener("input",r),!0}#br(i){return i.preventDefault(),this.clear(),this._$annexSearchWidget.getHelper("webComponentUI").setQueryAttribute(),this.nullifyLastTypesenseSearchResponse(),this.getView("root.body.results.found").clearResults(),this.getView("root.body.results.found").getView("root").setStateKey("idle"),this._$annexSearchWidget.getHelper("config").triggerCallback("results.idle"),this._$annexSearchWidget.dispatchCustomEvent("results.idle"),!0}#bu(a,s){let o=s.getError();if("abort"===o.key)return!1;let u={error:o};this._$annexSearchWidget.getHelper("config").triggerCallback("results.error",u),this._$annexSearchWidget.dispatchCustomEvent("results.error",u),this.getView("root.header").hideSpinner();let l=s.getResponse();return this.#bn=l,this.getView("root").setStateKey("error"),s.logFailedEvent(),!0}#bt(c){let h=this.first("input").value.trim();return(this._$annexSearchWidget.getHelper("webComponentUI").setQueryAttribute(),""===h)?(this.getHelper("typesense").abortLastRequest(),this.getView("root.header").hideSpinner(),this.nullifyLastTypesenseSearchResponse(),this.clear(),this.getView("root").setStateKey("idle"),this.getView("root.body.results.found").clearResults(),this._$annexSearchWidget.getHelper("config").triggerCallback("results.idle"),this._$annexSearchWidget.dispatchCustomEvent("results.idle"),!1):h!==this.#bn?.request_params?.q&&(this.nullifyLastTypesenseSearchResponse(),this.#bo=!1,this.getView("root.body.results.found").scrollToTop(),clearTimeout(this.#bi),this.#bi=setTimeout(this.#bv.bind(this),this.#bp),!0)}#bw(f,d){let p=d.getResponse(),g={response:p};return this._$annexSearchWidget.getHelper("config").triggerCallback("results.loaded",g),this._$annexSearchWidget.dispatchCustomEvent("results.loaded",g),this.#bn=p,this.#bo=!1,0!==p.hits.length&&(this.getView("root.body.results.found").mountResults(p),this.#bx(),!0)}#by(v,$){let m=$.getResponse();if(!0===this.#bo){let y=this.#bw(v,$);return!0===this.getView("root.body.results.found").containsScrollbar()||(this.loadMore(),y)}if(this.#bn=m,this.getView("root.body.results.found").clearResults(),0===m.hits.length)return this._$annexSearchWidget.getHelper("config").triggerCallback("results.empty"),this._$annexSearchWidget.dispatchCustomEvent("results.empty"),this.getView("root").setStateKey("empty"),!1;let w={response:m};this._$annexSearchWidget.getHelper("config").triggerCallback("results.loaded",w),this._$annexSearchWidget.dispatchCustomEvent("results.loaded",w),this.getView("root").setStateKey("results");let S=this.getView("root.body.results.found");return S.mountResults(m),S.resetFocusedIndex(),this.#bx(),!0===S.containsScrollbar()||(this.loadMore(),!0)}#bz(x={},b){return null===b.getError()?(this.getView("root.header").hideSpinner(),this.#by(x,b)):this.#bu(x,b)}#bv(E={}){this.getView("root.header").showSpinner();let U=this.first("input").value.trim(),C=this.#bz.bind(this,E);return this.getHelper("typesense").search(U,E).then(C)}#bA(){return null===this._$annexSearchWidget.getConfig("keyboardShortcut")&&(this.first(".label").remove(),!0)}#bx(){let V=this.#bn,R=this.getView("root.header.metaBar");return R.set("typesenseSearchResponse",V),R.render(),!0}append(e){let t=this.first("input");return t.value=t.value+e,!0}blur(){return this.first("input").blur(),!0}clear(){return this.first("input").value="",!0}decrement(){let e=this.first("input");return e.value=e.value.slice(0,-1),!0}focus(){this.getView("root.body.results.found").clearFocused();let e=this.first("input");return window.annexSearch.ElementUtils.focus(e)}loadMore(){if(!0===this.#bo)return!1;if(!0===window.annexSearch.FunctionUtils.limitReached(this.loadMore,10,7500)){let e=window.annexSearch.ErrorUtils.getMessage("fieldHeaderView.loadMore.limitReached");return this.error(e),this.getView("root").setStateKey("error"),this._$annexSearchWidget.disable(),!1}if(this.#bo=!0,this.getView("root.body.results.found").getResults().length>=this.#bn.found)return!1;let t=this.#bn?.page??null;if(null===t)return!1;t=parseInt(t,10),++t;let n={};return n.page=t,this.#bv(n),!0}nullifyLastTypesenseSearchResponse(){return this.#bn=null,!0}render(){return super.render(),this.#aY(),this.#bA(),!0}select(){let e=this.first("input");return window.annexSearch.ElementUtils.waitForAnimation().then(function(){e.select()}),!0}setCaret(){let e=this.first("input"),t=e.value;return e.setSelectionRange(t.length,t.length),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.HeaderView=window.annexSearch.HeaderView||class HeaderView extends window.annexSearch.BaseView{#bB=!1;_markup=`
<div data-view-name="HeaderView" part="header">
    <div class="hide icon icon-plus icon-size-14" part="header-hide"></div>
    <div class="spinner spinning icon icon-spinner" part="metaBar-spinner"></div>
</div>`;#a0(){let e=this.#a1.bind(this);return this.click(e),!0}#aY(){return this.#a0(),this.#bC(),!0}#bC(){let t=this.first(".hide"),n=this.#bD.bind(this);return t.addEventListener("click",n),!0}#a1(r){let i;return r.target!==this.first(".hide")&&(this.focus(),!0)}#bD(a){return this._$annexSearchWidget.hide(),!1}#bE(){let s=new window.annexSearch.FieldHeaderView(this._$annexSearchWidget),o=this._$element;return this.setView("field",s),s.mount(o),!0}#bF(){let u=new window.annexSearch.MetaBarHeaderView(this._$annexSearchWidget),l=this._$element;return this.setView("metaBar",u),u.mount(l),!0}blur(){return this.getView("field").blur()}focus(){return this.getView("field").focus()}mount(e){return super.mount(e),this.#bE(),this.#bF(),!0}hideSpinner(){return!1!==this.#bB&&(this.#bB=!1,this.getView("root").setAttribute("data-searching","0"),!0)}render(){return super.render(),this.#aY(),!0}showSpinner(){return!0!==this.#bB&&(this.#bB=!0,this.getView("root").setAttribute("data-searching","1"),!0)}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.MetaBarHeaderView=window.annexSearch.MetaBarHeaderView||class MetaBarHeaderView extends window.annexSearch.BaseView{_markup=`
        <%
            let showing = 0;
            if (data.typesenseSearchResponse) {
                showing = (data.typesenseSearchResponse.page - 1) * (data.typesenseSearchResponse.request_params.per_page) + data.typesenseSearchResponse.hits.length;
            }
        %>
<div data-view-name="MetaBarHeaderView" part="metaBar">
    Showing
    <span class="showing" part="metaBar-showing"><%- showing.toLocaleString() %></span> of
    <span class="found" part="metaBar-found"><%- data?.typesenseSearchResponse?.found.toLocaleString() ?? 0 %></span>
    matching results
    (<span class="duration" part="metaBar-duration"><%- data?.typesenseSearchResponse?.search_time_ms.toLocaleString() ?? 0 %>ms</span>)
</div>`}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.RootView=window.annexSearch.RootView||class RootView extends window.annexSearch.BaseView{#a=null;_markup=`
<div data-view-name="RootView" data-state-key="idle" part="root">
    <div class="overlay" part="root-overlay"></div>
    <div class="content" part="root-content">
        <div class="disabled" part="root-content-disabled"></div>
    </div>
</div>`;#aY(){return this.#a0(),this.#bG(),this.#bH(),!0}#a0(){let e=this.#a1.bind(this);return this.click(e),!0}#bG(){let t=this.#bI.bind(this);return this.event("focusin",t),!0}#bH(){let n=this.#bJ.bind(this);return this.click(n),!0}#a1(r){return this._$annexSearchWidget.focus(),!0}#bI(i){let a=i.target,s=this._$annexSearchWidget;return this.#a=a,s.focus(),!0}#bJ(o){if(!1===this.getHelper("config").get("showOverlay"))return!1;let u=o.target;return null!=u&&!0===u.matches(".overlay")&&(this._$annexSearchWidget.hide(),!0)}#bK(){let l=new window.annexSearch.BodyView(this._$annexSearchWidget),c=this.first(".content");return this.setView("body",l),l.mount(c),!0}#bL(){let h=new window.annexSearch.FooterView(this._$annexSearchWidget),f=this.first(".content");return this.setView("footer",h),h.mount(f),!0}#bM(){let d=new window.annexSearch.HeaderView(this._$annexSearchWidget),p=this.first(".content");return this.setView("header",d),d.mount(p),!0}blur(){return this.getView("header").blur()}focus(){if(!0===this._$annexSearchWidget.disabled())return window.annexSearch.FunctionUtils.getEmptyPromise(!1);let e=this.#a;return null===e||!1===this._$annexSearchWidget.shadow.contains(e)?this.getView("header").focus():window.annexSearch.ElementUtils.focus(e)}getFocused(){return this.#a}mount(e){return super.mount(e),this.#bM(),this.#bK(),this.#bL(),this._$annexSearchWidget.getHelper("config").triggerCallback("results.idle"),this._$annexSearchWidget.dispatchCustomEvent("results.idle"),!0}render(){return super.render(),this.#aY(),!0}setStateKey(e){return this._$element.setAttribute("data-state-key",e),!0}}}),window.annexSearch.DependencyLoader.push([],function(){window.annexSearch.AnnexSearchWidgetWebComponent=window.annexSearch.AnnexSearchWidgetWebComponent||class AnnexSearchWidgetWebComponent extends HTMLElement{#bN=!1;#bO={};#bP=!1;#bQ={};#bR=!1;#bc=!1;#bS={};constructor(){super(),this.#bT(),this.#bU(),this.#bV()}#bW(e=null){if(e=e||this.getConfig("$container")||null,"inline"===this.getConfig("layout")){if(null===e){let t=window.annexSearch.ErrorUtils.getMessage("annexSearchWidget.container.null");return this.#bO.webComponentUI.error(t),null}return e}return null===e&&(e=document.body||document.head||document.documentElement),e}#bX(){return this.#bP=!0,this.#bR=!0,this.dispatchCustomEvent("ready"),this}#bY(){try{this.#bZ(),this.#bO.webComponentUI.setupConfigHelperCustomEventListeners(),this.#bO.webComponentUI.setAttributes(),this.#bO.webComponentUI.autoShow()}catch(n){!0===this.#bO.config.get("debug")&&(console.log(n),console.trace())}let r=this.#bX.bind(this);return window.annexSearch.ElementUtils.waitForAnimation().then(r)}#bZ(){let i=new window.annexSearch.RootView(this),a=this.shadow;return this.#bS.root=i,this.#bS.root.mount(a),!0}#bT(){return window.annexSearch.AnnexSearch.register(this),!0}#b$(){let s=this.#bY.bind(this),o=this;return this.#bO.config.loadStylesheets(this).then(s).catch(function(e){return o})}#bU(){return this.#bO.config=new window.annexSearch.ConfigHelper(this),this.#bO.typesense=new window.annexSearch.TypesenseHelper(this),this.#bO.webComponentUI=new window.annexSearch.WebComponentUIHelper(this),!0}#bV(){return this.shadow=this.attachShadow({mode:"closed"}),!0}#b_(){let u=window.annexSearch.AnnexSearch.getRegistered();for(let l of u){if(this===l)continue;let c=this.getConfig("keyboardShortcut");if(null!==c&&c===l.getConfig("keyboardShortcut")){this.setConfig("keyboardShortcut",null);let h=window.annexSearch.ErrorUtils.getMessage("annexSearchWidget.keyboardShortcut.reserved",c);this.#bO.webComponentUI.error(h);break}}return!0}blur(){return!1===this.focused()?window.annexSearch.FunctionUtils.getEmptyPromise(this):(window.annexSearch.AnnexSearch.setFocused(null),this.#bO.webComponentUI.blur())}clear(){let e=this.getView("root").getView("root.header.field"),t=this.getView("root").getView("body.results.found");return e.focus(),e.clear(),e.nullifyLastTypesenseSearchResponse(),t.resetFocusedIndex(),e.first("input").dispatchEvent(new Event("input",{bubbles:!0})),!0}disable(){return!0!==this.#bN&&(this.#bN=!0,this.#bO.webComponentUI.disable(),!0)}disabled(){return this.#bN}dispatchCustomEvent(e,t={}){t.$annexSearchWidget=this;let n=new CustomEvent(e,{detail:t});return this.dispatchEvent(n),!0}enable(){return!1!==this.#bN&&(this.#bN=!1,this.#bO.webComponentUI.enable(),!0)}focus(){if(!0===this.focused())return window.annexSearch.FunctionUtils.getEmptyPromise(this);window.annexSearch.AnnexSearch.setFocused(this),this.#bO.webComponentUI.focus();let e=this;return this.getView("root").focus().then(function(){return e})}focused(){return window.annexSearch.AnnexSearch.getFocused()===this}getConfig(e){return this.#bO.config.get(e)}getFocused(){return this.getView("root").getFocused()}getHelper(e){return this.#bO[e]}getMutator(e){return this.#bQ[e]||null}getView(e){return this.#bS[e]}hide(){return"inline"===this.getConfig("layout")||!1===this.#bc?window.annexSearch.FunctionUtils.getEmptyPromise(!1):(this.#bc=!1,window.annexSearch.AnnexSearch.clearFocused(),this.#bO.webComponentUI.hide())}mount(e=null){if(null===(e=this.#bW(e))||!1===this.#b_())return this.#bP=!1,window.annexSearch.FunctionUtils.getEmptyPromise(this);let t=this.#b$();return e.appendChild(this),t}mounted(){return this.#bP}partiallyVisible(){return window.annexSearch.ElementUtils.partiallyVisible(this)}query(e){let t=this.getView("root").getView("root.header.field"),n=this.getView("root").getView("body.results.found");return t.focus(),t.clear(),t.nullifyLastTypesenseSearchResponse(),t.append(e),n.smoothScrollToTop(),n.resetFocusedIndex(),window.annexSearch.ElementUtils.waitForAnimation().then(function(){t.setCaret()}),t.first("input").dispatchEvent(new Event("input",{bubbles:!0})),!0}ready(){if(!0===this.#bR)return new Promise(function(e,t){e(this)});let e=this;return new Promise(function(t,n){let r=function(n){t(e)};e.addEventListener("ready",r,{once:!0})})}setConfig(e,t){return"object"==typeof e?this.#bO.config.merge(e):this.#bO.config.set(e,t)}setMutator(e,t){return this.#bQ[e]=t,!0}show(){return!0===this.#bc?window.annexSearch.FunctionUtils.getEmptyPromise(!1):(this.#bc=!0,this.#bO.webComponentUI.show())}showing(){return this.#bc}showTimer(e){return window.annexSearch.TimerUtils.build(this,{seconds:e}).show()}showToast(e,t,n=window.annexSearch.ToastUtils.getDuration()){let r=window.annexSearch.ToastUtils.build(this,{title:e,message:t});return r.setDuration(n),r.show(),r}toggle(){return(this.#bO.webComponentUI.toggle(),!0===this.#bc)?this.hide():this.show()}}}),/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */ (function(){function e(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function t(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var s=e[i];t(r,s,n(s),e)}return r}function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function r(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function i(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function a(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var s=e[n];t(s,n,e)&&(a[i++]=s)}return a}function s(e,t){return!!(null==e?0:e.length)&&g(e,t,0)>-1}function o(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function u(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function l(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function c(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function h(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function f(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function d(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function p(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return -1}function g(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return -1}(e,t,n):p(e,$,n)}function v(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return -1}function $(e){return e!=e}function m(e,t){var n=null==e?0:e.length;return n?x(e,t)/n:ee}function y(e){return function(t){return null==t?q:t[e]}}function w(e){return function(t){return null==e?q:e[t]}}function S(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}function x(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==q&&(n=n===q?a:n+a)}return n}function b(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function E(e){return e?e.slice(0,H(e)+1).replace(ez,""):e}function U(e){return function(t){return e(t)}}function C(e,t){return u(t,function(t){return e[t]})}function V(e,t){return e.has(t)}function R(e,t){for(var n=-1,r=e.length;++n<r&&g(t,e[n],0)>-1;);return n}function B(e,t){for(var n=e.length;n--&&g(t,e[n],0)>-1;);return n}function k(e){return"\\"+t0[e]}function A(e){return tL.test(e)}function L(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function T(e,t){return function(n){return e(t(n))}}function I(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var s=e[n];s!==t&&s!==j||(e[n]=j,a[i++]=n)}return a}function W(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function F(e){return A(e)?function(e){for(var t=tk.lastIndex=0;tk.test(e);)++t;return t}(e):t5(e)}function D(e){var t,n;return A(e)?(n=e,n.match(tk)||[]):(t=e).split("")}function H(e){for(var t=e.length;t--&&eP.test(e.charAt(t)););return t}var q,M="Expected a function",O="__lodash_hash_undefined__",j="__lodash_placeholder__",K=1,z=2,P=4,N=8,G=16,Z=32,Q=64,Y="...",J=1/0,X=9007199254740991,ee=NaN,et=4294967295,en=et-1,er=et>>>1,ei=[["ary",128],["bind",1],["bindKey",2],["curry",N],["curryRight",G],["flip",512],["partial",Z],["partialRight",Q],["rearg",256]],ea="[object Arguments]",es="[object Array]",eo="[object Boolean]",eu="[object Date]",el="[object Error]",ec="[object Function]",eh="[object GeneratorFunction]",ef="[object Map]",ed="[object Number]",ep="[object Null]",eg="[object Object]",e8="[object Promise]",ev="[object RegExp]",e$="[object Set]",em="[object String]",ey="[object Symbol]",ew="[object Undefined]",eS="[object WeakMap]",ex="[object ArrayBuffer]",eb="[object DataView]",e_="[object Float32Array]",eE="[object Float64Array]",eU="[object Int8Array]",eC="[object Int16Array]",eV="[object Int32Array]",eR="[object Uint8Array]",eB="[object Uint8ClampedArray]",ek="[object Uint16Array]",eA="[object Uint32Array]",eL=/\b__p \+= '';/g,eT=/\b(__p \+=) '' \+/g,eI=/(__e\(.*?\)|\b__t\)) \+\n'';/g,eW=/&(?:amp|lt|gt|quot|#39);/g,eF=/[&<>"']/g,e9=RegExp(eW.source),e0=RegExp(eF.source),eD=/<%-([\s\S]+?)%>/g,eH=/<%([\s\S]+?)%>/g,eq=/<%=([\s\S]+?)%>/g,eM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eO=/^\w*$/,ej=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eK=/[\\^$.*+?()[\]{}|]/g,e1=RegExp(eK.source),ez=/^\s+/,eP=/\s/,e6=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,eN=/\{\n\/\* \[wrapped with (.+)\] \*/,e4=/,? & /,e2=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,e7=/[()=,{}\[\]\/\s]/,e3=/\\(\\)?/g,e5=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,eG=/\w*$/,eZ=/^[-+]0x[0-9a-f]+$/i,eQ=/^0b[01]+$/i,eY=/^\[object .+?Constructor\]$/,eJ=/^0o[0-7]+$/i,eX=/^(?:0|[1-9]\d*)$/,te=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,tt=/($^)/,tn=/['\n\r\u2028\u2029\\]/g,tr="\ud800-\udfff",ti="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ta="\\u2700-\\u27bf",ts="a-z\\xdf-\\xf6\\xf8-\\xff",to="A-Z\\xc0-\\xd6\\xd8-\\xde",tu="\\ufe0e\\ufe0f",tl="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tc="['’]",th="["+tl+"]",tf="["+ti+"]",td="["+ts+"]",tp="[^"+tr+tl+"\\d+"+ta+ts+to+"]",tg="\ud83c[\udffb-\udfff]",t8="[^"+tr+"]",tv="(?:\ud83c[\udde6-\uddff]){2}",t$="[\ud800-\udbff][\udc00-\udfff]",tm="["+to+"]",ty="\\u200d",tw="(?:"+td+"|"+tp+")",tS="(?:"+tc+"(?:d|ll|m|re|s|t|ve))?",tx="(?:"+tc+"(?:D|LL|M|RE|S|T|VE))?",tb="(?:"+tf+"|"+tg+")?",t_="["+tu+"]?",tE="(?:"+ty+"(?:"+[t8,tv,t$].join("|")+")"+t_+tb+")*",tU=t_+tb+tE,tC="(?:"+["["+ta+"]",tv,t$].join("|")+")"+tU,tV="(?:"+[t8+tf+"?",tf,tv,t$,"["+tr+"]"].join("|")+")",tR=RegExp(tc,"g"),tB=RegExp(tf,"g"),tk=RegExp(tg+"(?="+tg+")|"+tV+tU,"g"),tA=RegExp([tm+"?"+td+"+"+tS+"(?="+[th,tm,"$"].join("|")+")","(?:"+tm+"|"+tp+")+"+tx+"(?="+[th,tm+tw,"$"].join("|")+")",tm+"?"+tw+"+"+tS,tm+"+"+tx,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",tC].join("|"),"g"),tL=RegExp("["+ty+tr+ti+tu+"]"),tT=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tI=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tW=-1,tF={};tF[e_]=tF[eE]=tF[eU]=tF[eC]=tF[eV]=tF[eR]=tF[eB]=tF[ek]=tF[eA]=!0,tF[ea]=tF[es]=tF[ex]=tF[eo]=tF[eb]=tF[eu]=tF[el]=tF[ec]=tF[ef]=tF[ed]=tF[eg]=tF[ev]=tF[e$]=tF[em]=tF[eS]=!1;var t9={};t9[ea]=t9[es]=t9[ex]=t9[eb]=t9[eo]=t9[eu]=t9[e_]=t9[eE]=t9[eU]=t9[eC]=t9[eV]=t9[ef]=t9[ed]=t9[eg]=t9[ev]=t9[e$]=t9[em]=t9[ey]=t9[eR]=t9[eB]=t9[ek]=t9[eA]=!0,t9[el]=t9[ec]=t9[eS]=!1;var t0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tD=parseFloat,tH=parseInt,tq="object"==typeof global&&global&&global.Object===Object&&global,tM="object"==typeof self&&self&&self.Object===Object&&self,tO=tq||tM||Function("return this")(),tj="object"==typeof exports&&exports&&!exports.nodeType&&exports,tK=tj&&"object"==typeof module&&module&&!module.nodeType&&module,t1=tK&&tK.exports===tj,tz=t1&&tq.process,tP=function(){try{var e;return tK&&tK.require&&tK.require("util").types||tz&&tz.binding&&tz.binding("util")}catch(t){}}(),t6=tP&&tP.isArrayBuffer,tN=tP&&tP.isDate,t4=tP&&tP.isMap,t2=tP&&tP.isRegExp,t7=tP&&tP.isSet,t3=tP&&tP.isTypedArray,t5=y("length"),tG=w({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),tZ=w({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),tQ=w({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),tY=function w(eP){function tr(e){if(io(e)&&!sF(e)&&!(e instanceof ts)){if(e instanceof ta)return e;if(i7.call(e,"__wrapped__"))return rW(e)}return new ta(e)}function ti(){}function ta(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=q}function ts(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=et,this.__views__=[]}function to(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function tu(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function tl(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function tc(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new tl;++t<n;)this.add(e[t])}function th(e){this.size=(this.__data__=new tu(e)).size}function tf(e,t){var n=sF(e),r=!n&&sW(e),i=!n&&!r&&s0(e),a=!n&&!r&&!i&&sO(e),s=n||r||i||a,o=s?b(e.length,i1):[],u=o.length;for(var l in e)!t&&!i7.call(e,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||rS(l,u))||o.push(l);return o}function td(e){var t=e.length;return t?e[nv(0,t-1)]:q}function tp(e,t){return rL(n1(e),tx(t,0,e.length))}function tg(e){return rL(n1(e))}function t8(e,t,n){(n===q||rY(e[t],n))&&(n!==q||t in e)||tw(e,t,n)}function tv(e,t,n){var r=e[t];i7.call(e,t)&&rY(r,n)&&(n!==q||t in e)||tw(e,t,n)}function t$(e,t){for(var n=e.length;n--;)if(rY(e[n][0],t))return n;return -1}function tm(e,t,n,r){return aj(e,function(e,i,a){t(r,e,n(e),a)}),r}function ty(e,t){return e&&nz(t,iS(t),e)}function tw(e,t,n){"__proto__"==t&&al?al(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function tS(e,t){for(var n=-1,r=t.length,i=iD(r),a=null==e;++n<r;)i[n]=a?q:iy(e,t[n]);return i}function tx(e,t,n){return e==e&&(n!==q&&(e=e<=n?e:n),t!==q&&(e=e>=t?e:t)),e}function tb(e,t,r,i,a,s){var o,u=t&K,l=2&t;if(r&&(o=a?r(e,i,a,s):r(e)),o!==q)return o;if(!is(e))return e;var c=sF(e);if(c){if(o=(h=e,f=h.length,d=new h.constructor(f),f&&"string"==typeof h[0]&&i7.call(h,"index")&&(d.index=h.index,d.input=h.input),d),!u)return n1(e,o)}else{var h,f,d,p,g,v,$,m,y,w=a5(e),S=w==ec||w==eh;if(s0(e))return nH(e,u);if(w==eg||w==ea||S&&!a){if(o=l||S?{}:ry(e),!u){return l?(p=e,g=(m=o,y=e,m&&nz(y,ix(y),m)),nz(p,a3(p),g)):(v=e,$=ty(o,e),nz(v,a7(v),$))}}else{if(!t9[w])return a?e:{};o=function(e,t,n){var r,i,a,s,o,u=e.constructor;switch(t){case ex:return nq(e);case eo:case eu:return new u(+e);case eb:return r=e,i=n,new r.constructor(i?nq(r.buffer):r.buffer,r.byteOffset,r.byteLength);case e_:case eE:case eU:case eC:case eV:case eR:case eB:case ek:case eA:return nM(e,n);case ef:return new u;case ed:case em:return new u(e);case ev:return(s=new(a=e).constructor(a.source,eG.exec(a))).lastIndex=a.lastIndex,s;case e$:return new u;case ey:return o=e,a0?ij(a0.call(o)):{}}}(e,w,u)}}s||(s=new th);var x=s.get(e);if(x)return x;s.set(e,o),sM(e)?e.forEach(function(n){o.add(tb(n,t,r,n,e,s))}):sH(e)&&e.forEach(function(n,i){o.set(i,tb(n,t,r,i,e,s))});var b=4&t?l?rf:rh:l?ix:iS,E=c?q:b(e);return n(E||e,function(n,i){E&&(n=e[i=n]),tv(o,i,tb(n,t,r,i,e,s))}),o}function t_(e,t,n){var r=n.length;if(null==e)return!r;for(e=ij(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===q&&!(i in e)||!a(s))return!1}return!0}function tE(e,t,n){if("function"!=typeof e)throw new iz(M);return aQ(function(){e.apply(q,n)},t)}function tU(e,t,n,r){var i=-1,a=s,l=!0,c=e.length,h=[],f=t.length;if(!c)return h;n&&(t=u(t,U(n))),r?(a=o,l=!1):t.length>=200&&(a=V,l=!1,t=new tc(t));n:for(;++i<c;){var d=e[i],p=null==n?d:n(d);if(d=r||0!==d?d:0,l&&p==p){for(var g=f;g--;)if(t[g]===p)continue n;h.push(d)}else a(t,p,r)||h.push(d)}return h}function tC(e,t){var n=!0;return aj(e,function(e,r,i){return n=!!t(e,r,i)}),n}function tV(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(o===q?s==s&&!ih(s):n(s,o)))var o=s,u=a}return u}function tk(e,t){var n=[];return aj(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function tL(e,t,n,r,i){var a=-1,s=e.length;for(n||(n=rw),i||(i=[]);++a<s;){var o=e[a];t>0&&n(o)?t>1?tL(o,t-1,n,r,i):l(i,o):r||(i[i.length]=o)}return i}function t0(e,t){return e&&a1(e,t,iS)}function tq(e,t){return e&&az(e,t,iS)}function tM(e,t){return a(t,function(t){return ir(e[t])})}function tj(e,t){t=n0(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[rT(t[n++])];return n&&n==r?e:q}function tK(e,t,n){var r=t(e);return sF(e)?r:l(r,n(e))}function tz(e){var t;return null==e?e===q?ew:ep:au&&au in ij(e)?function(e){var t=i7.call(e,au),n=e[au];try{e[au]=q;var r=!0}catch(i){}var a=iG.call(e);return r&&(t?e[au]=n:delete e[au]),a}(e):(t=e,iG.call(t))}function tP(e,t){return e>t}function t5(e,t){return null!=e&&i7.call(e,t)}function tJ(e,t){return null!=e&&t in ij(e)}function tX(e,t,n){for(var r=n?o:s,i=e[0].length,a=e.length,l=a,c=iD(a),h=1/0,f=[];l--;){var d=e[l];l&&t&&(d=u(d,U(t))),h=aw(d.length,h),c[l]=!n&&(t||i>=120&&d.length>=120)?new tc(l&&d):q}d=e[0];var p=-1,g=c[0];n:for(;++p<i&&f.length<h;){var v=d[p],$=t?t(v):v;if(v=n||0!==v?v:0,!(g?V(g,$):r(f,$,n))){for(l=a;--l;){var m=c[l];if(!(m?V(m,$):r(e[l],$,n)))continue n}g&&g.push($),f.push(v)}}return f}function ne(t,n,r){n=n0(n,t);var i=null==(t=rR(t,n))?t:t[rT(rH(n))];return null==i?q:e(i,t,r)}function nt(e){return io(e)&&tz(e)==ea}function nn(e,t,n,r,i){return e===t||(null!=e&&null!=t&&(io(e)||io(t))?function(e,t,n,r,i,a){var s=sF(e),o=sF(t),u=s?es:a5(e),l=o?es:a5(t);u=u==ea?eg:u,l=l==ea?eg:l;var c=u==eg,h=l==eg,f=u==l;if(f&&s0(e)){if(!s0(t))return!1;s=!0,c=!1}if(f&&!c)return a||(a=new th),s||sO(e)?rl(e,t,n,r,i,a):function(e,t,n,r,i,a,s){switch(n){case eb:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case ex:return!(e.byteLength!=t.byteLength||!a(new ae(e),new ae(t)));case eo:case eu:case ed:return rY(+e,+t);case el:return e.name==t.name&&e.message==t.message;case ev:case em:return e==t+"";case ef:var o=L;case e$:var u=1&r;if(o||(o=W),e.size!=t.size&&!u)break;var l=s.get(e);if(l)return l==t;r|=z,s.set(e,t);var c=rl(o(e),o(t),r,i,a,s);return s.delete(e),c;case ey:if(a0)return a0.call(e)==a0.call(t)}return!1}(e,t,u,n,r,i,a);if(!(1&n)){var d=c&&i7.call(e,"__wrapped__"),p=h&&i7.call(t,"__wrapped__");if(d||p){var g=d?e.value():e,v=p?t.value():t;return a||(a=new th),i(g,v,n,r,a)}}return!!f&&(a||(a=new th),function(e,t,n,r,i,a){var s=1&n,o=rh(e),u=o.length;if(u!=rh(t).length&&!s)return!1;for(var l=u;l--;){var c=o[l];if(!(s?c in t:i7.call(t,c)))return!1}var h=a.get(e),f=a.get(t);if(h&&f)return h==t&&f==e;var d=!0;a.set(e,t),a.set(t,e);for(var p=s;++l<u;){var g=e[c=o[l]],v=t[c];if(r)var $=s?r(v,g,c,t,e,a):r(g,v,c,e,t,a);if(!($===q?g===v||i(g,v,n,r,a):$)){d=!1;break}p||(p="constructor"==c)}if(d&&!p){var m=e.constructor,y=t.constructor;m!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y)&&(d=!1)}return a.delete(e),a.delete(t),d}(e,t,n,r,i,a))}(e,t,n,r,nn,i):e!=e&&t!=t)}function nr(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=ij(e);i--;){var o=n[i];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<a;){var u=(o=n[i])[0],l=e[u],c=o[1];if(s&&o[2]){if(l===q&&!(u in e))return!1}else{var h=new th;if(r)var f=r(l,c,u,e,t,h);if(!(f===q?nn(c,l,1|z,r,h):f))return!1}}return!0}function ni(e){var t;return!(!is(e)||(t=e,i5&&i5 in t))&&(ir(e)?iY:eY).test(rI(e))}function na(e){return"function"==typeof e?e:null==e?iR:"object"==typeof e?sF(e)?nc(e[0],e[1]):nl(e):iL(e)}function ns(e){if(!rE(e))return am(e);var t=[];for(var n in ij(e))i7.call(e,n)&&"constructor"!=n&&t.push(n);return t}function no(e,t){return e<t}function nu(e,t){var n=-1,r=rJ(e)?iD(e.length):[];return aj(e,function(e,i,a){r[++n]=t(e,i,a)}),r}function nl(e){var t=rv(e);return 1==t.length&&t[0][2]?rC(t[0][0],t[0][1]):function(n){return n===e||nr(n,e,t)}}function nc(e,t){return rb(e)&&rU(t)?rC(rT(e),t):function(n){var r=iy(n,e);return r===q&&r===t?iw(n,e):nn(t,r,1|z)}}function nh(e,t,n,r,i){e!==t&&a1(t,function(a,s){if(i||(i=new th),is(a))(function(e,t,n,r,i,a,s){var o=rB(e,n),u=rB(t,n),l=s.get(u);if(l)return t8(e,n,l),q;var c=a?a(o,u,n+"",e,t,s):q,h=c===q;if(h){var f=sF(u),d=!f&&s0(u),p=!f&&!d&&sO(u);c=u,f||d||p?sF(o)?c=o:rX(o)?c=n1(o):d?(h=!1,c=nH(u,!0)):p?(h=!1,c=nM(u,!0)):c=[]:il(u)||sW(u)?(c=o,sW(o)?c=i$(o):is(o)&&!ir(o)||(c=ry(u))):h=!1}h&&(s.set(u,c),i(c,u,r,a,s),s.delete(u)),t8(e,n,c)})(e,t,s,n,nh,r,i);else{var o=r?r(rB(e,s),a,s+"",e,t,i):q;o===q&&(o=a),t8(e,s,o)}},ix)}function nf(e,t){var n=e.length;if(n)return rS(t+=t<0?n:0,n)?e[t]:q}function nd(e,t,n){t=t.length?u(t,function(e){return sF(e)?function(t){return tj(t,1===e.length?e[0]:e)}:e}):[iR];var r=-1;return t=u(t,U(rg())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(nu(e,function(e,n,i){return{criteria:u(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,s=i.length,o=n.length;++r<s;){var u=nO(i[r],a[r]);if(u){if(r>=o)return u;return u*("desc"==n[r]?-1:1)}}return e.index-t.index}(e,t,n)})}function np(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var s=t[r],o=tj(e,s);n(o,s)&&nS(a,n0(s,e),o)}return a}function ng(e,t,n,r){var i=r?v:g,a=-1,s=t.length,o=e;for(e===t&&(t=n1(t)),n&&(o=u(e,U(n)));++a<s;)for(var l=0,c=t[a],h=n?n(c):c;(l=i(o,h,l,r))>-1;)o!==e&&aa.call(o,l,1),aa.call(e,l,1);return e}function n8(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;rS(i)?aa.call(e,i,1):nk(e,i)}}return e}function nv(e,t){return e+ap(ab()*(t-e+1))}function n$(e,t){var n="";if(!e||t<1||t>X)return n;do t%2&&(n+=e),(t=ap(t/2))&&(e+=e);while(t);return n}function nm(e,t){return aY(rV(e,t,iR),e+"")}function ny(e){return td(i_(e))}function nw(e,t){var n=i_(e);return rL(n,tx(t,0,n.length))}function nS(e,t,n,r){if(!is(e))return e;t=n0(t,e);for(var i=-1,a=t.length,s=a-1,o=e;null!=o&&++i<a;){var u=rT(t[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)break;if(i!=s){var c=o[u];(l=r?r(c,u,o):q)===q&&(l=is(c)?c:rS(t[i+1])?[]:{})}tv(o,u,l),o=o[u]}return e}function nx(e){return rL(i_(e))}function nb(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=iD(i);++r<i;)a[r]=e[r+t];return a}function n_(e,t){var n;return aj(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function nE(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=er){for(;r<i;){var a=r+i>>>1,s=e[a];null!==s&&!ih(s)&&(n?s<=t:s<t)?r=a+1:i=a}return i}return nU(e,t,iR,n)}function nU(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;t=n(t);for(var s=t!=t,o=null===t,u=ih(t),l=t===q;i<a;){var c=ap((i+a)/2),h=n(e[c]),f=h!==q,d=null===h,p=h==h,g=ih(h);if(s)var v=r||p;else v=l?p&&(r||f):o?p&&f&&(r||!d):u?p&&f&&!d&&(r||!g):!d&&!g&&(r?h<=t:h<t);v?i=c+1:a=c}return aw(a,en)}function nC(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var s=e[n],o=t?t(s):s;if(!n||!rY(o,u)){var u=o;a[i++]=0===s?0:s}}return a}function nV(e){return"number"==typeof e?e:ih(e)?ee:+e}function nR(e){if("string"==typeof e)return e;if(sF(e))return u(e,nR)+"";if(ih(e))return aD?aD.call(e):"";var t=e+"";return"0"==t&&1/e==-J?"-0":t}function nB(e,t,n){var r=-1,i=s,a=e.length,u=!0,l=[],c=l;if(n)u=!1,i=o;else if(a>=200){var h=t?null:a4(e);if(h)return W(h);u=!1,i=V,c=new tc}else c=t?[]:l;n:for(;++r<a;){var f=e[r],d=t?t(f):f;if(f=n||0!==f?f:0,u&&d==d){for(var p=c.length;p--;)if(c[p]===d)continue n;t&&c.push(d),l.push(f)}else i(c,d,n)||(c!==l&&c.push(d),l.push(f))}return l}function nk(e,t){return t=n0(t,e),null==(e=rR(e,t))||delete e[rT(rH(t))]}function nA(e,t,n,r){return nS(e,t,n(tj(e,t)),r)}function nL(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?nb(e,r?0:a,r?a+1:i):nb(e,r?a+1:0,r?i:a)}function nT(e,t){var n=e;return n instanceof ts&&(n=n.value()),c(t,function(e,t){return t.func.apply(t.thisArg,l([e],t.args))},n)}function nI(e,t,n){var r=e.length;if(r<2)return r?nB(e[0]):[];for(var i=-1,a=iD(r);++i<r;)for(var s=e[i],o=-1;++o<r;)o!=i&&(a[i]=tU(a[i]||s,e[o],t,n));return nB(tL(a,1),t,n)}function nW(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;)n(s,e[r],r<a?t[r]:q);return s}function nF(e){return rX(e)?e:[]}function n9(e){return"function"==typeof e?e:iR}function n0(e,t){return sF(e)?e:rb(e,t)?[e]:aJ(im(e))}function nD(e,t,n){var r=e.length;return n=n===q?r:n,!t&&n>=r?e:nb(e,t,n)}function nH(e,t){if(t)return e.slice();var n=e.length,r=at?at(n):new e.constructor(n);return e.copy(r),r}function nq(e){var t=new e.constructor(e.byteLength);return new ae(t).set(new ae(e)),t}function nM(e,t){return new e.constructor(t?nq(e.buffer):e.buffer,e.byteOffset,e.length)}function nO(e,t){if(e!==t){var n=e!==q,r=null===e,i=e==e,a=ih(e),s=t!==q,o=null===t,u=t==t,l=ih(t);if(!o&&!l&&!a&&e>t||a&&s&&u&&!o&&!l||r&&s&&u||!n&&u||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!u)return -1}return 0}function nj(e,t,n,r){for(var i=-1,a=e.length,s=n.length,o=-1,u=t.length,l=ay(a-s,0),c=iD(u+l),h=!r;++o<u;)c[o]=t[o];for(;++i<s;)(h||i<a)&&(c[n[i]]=e[i]);for(;l--;)c[o++]=e[i++];return c}function nK(e,t,n,r){for(var i=-1,a=e.length,s=-1,o=n.length,u=-1,l=t.length,c=ay(a-o,0),h=iD(c+l),f=!r;++i<c;)h[i]=e[i];for(var d=i;++u<l;)h[d+u]=t[u];for(;++s<o;)(f||i<a)&&(h[d+n[s]]=e[i++]);return h}function n1(e,t){var n=-1,r=e.length;for(t||(t=iD(r));++n<r;)t[n]=e[n];return t}function nz(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var o=t[a],u=r?r(n[o],e[o],o,n,e):q;u===q&&(u=e[o]),i?tw(n,o,u):tv(n,o,u)}return n}function nP(e,n){return function(r,i){var a=sF(r)?t:tm,s=n?n():{};return a(r,e,rg(i,2),s)}}function n6(e){return nm(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:q,s=i>2?n[2]:q;for(a=e.length>3&&"function"==typeof a?(i--,a):q,s&&rx(n[0],n[1],s)&&(a=i<3?q:a,i=1),t=ij(t);++r<i;){var o=n[r];o&&e(t,o,r,a)}return t})}function nN(e,t){return function(n,r){if(null==n)return n;if(!rJ(n))return e(n,r);for(var i=n.length,a=t?i:-1,s=ij(n);(t?a--:++a<i)&&!1!==r(s[a],a,s););return n}}function n4(e){return function(t,n,r){for(var i=-1,a=ij(t),s=r(t),o=s.length;o--;){var u=s[e?o:++i];if(!1===n(a[u],u,a))break}return t}}function n2(e){return function(t){t=im(t);var n=A(t)?D(t):q,r=n?n[0]:t.charAt(0),i=n?nD(n,1).join(""):t.slice(1);return r[e]()+i}}function n7(e){return function(t){return c(iC(iU(t).replace(tR,"")),e,"")}}function n3(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=aH(e.prototype),r=e.apply(n,t);return is(r)?r:n}}function n5(e){return function(t,n,r){var i=ij(t);if(!rJ(t)){var a=rg(n,3);t=iS(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:q}}function nG(e){return rc(function(t){var n=t.length,r=n,i=ta.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new iz(M);if(i&&!s&&"wrapper"==rd(a))var s=new ta([],!0)}for(r=s?r:n;++r<n;){var o=rd(a=t[r]),u="wrapper"==o?a2(a):q;s=u&&r_(u[0])&&u[1]==(128|N|Z|256)&&!u[4].length&&1==u[9]?s[rd(u[0])].apply(s,u[3]):1==a.length&&r_(a)?s[o]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&sF(r))return s.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}})}function nZ(e,t,n,r,i,a,s,o,u,l){function c(){for(var $=arguments.length,m=iD($),y=$;y--;)m[y]=arguments[y];if(p)var w=rp(c),S=function e(t,n){for(var r=t.length,i=0;r--;)t[r]===n&&++i;return i}(m,w);if(r&&(m=nj(m,r,i,p)),a&&(m=nK(m,a,s,p)),$-=S,p&&$<l)return rn(e,t,nZ,c.placeholder,n,m,I(m,w),o,u,l-$);var x=f?n:this,b=d?x[e]:e;return $=m.length,o?m=function(e,t){for(var n=e.length,r=aw(t.length,n),i=n1(e);r--;){var a=t[r];e[r]=rS(a,n)?i[a]:q}return e}(m,o):g&&$>1&&m.reverse(),h&&u<$&&(m.length=u),this&&this!==tO&&this instanceof c&&(b=v||n3(b)),b.apply(x,m)}var h=128&t,f=1&t,d=2&t,p=t&(N|G),g=512&t,v=d?q:n3(e);return c}function nQ(e,t){return function(n,r){var i,a,s,o;return i=n,a=e,s=t(r),o={},t0(i,function(e,t,n){a(o,s(e),t,n)}),o}}function nY(e,t){return function(n,r){var i;if(n===q&&r===q)return t;if(n!==q&&(i=n),r!==q){if(i===q)return r;"string"==typeof n||"string"==typeof r?(n=nR(n),r=nR(r)):(n=nV(n),r=nV(r)),i=e(n,r)}return i}}function nJ(t){return rc(function(n){return n=u(n,U(rg())),nm(function(r){var i=this;return t(n,function(t){return e(t,i,r)})})})}function nX(e,t){var n=(t=t===q?" ":nR(t)).length;if(n<2)return n?n$(t,e):t;var r=n$(t,ad(e/F(t)));return A(t)?nD(D(r),0,e).join(""):r.slice(0,e)}function re(e){return function(t,n,r){return r&&"number"!=typeof r&&rx(t,n,r)&&(n=r=q),t=ip(t),n===q?(n=t,t=0):n=ip(n),r=r===q?t<n?1:-1:ip(r),function(e,t,n,r){for(var i=-1,a=ay(ad((t-e)/(n||1)),0),s=iD(a);a--;)s[r?a:++i]=e,e+=n;return s}(t,n,r,e)}}function rt(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=iv(t),n=iv(n)),e(t,n)}}function rn(e,t,n,r,i,a,s,o,u,l){var c=t&N,h=c?s:q,f=c?q:s,d=c?a:q,p=c?q:a;t|=c?Z:Q,(t&=~(c?Q:Z))&P||(t&=-4);var g=[e,t,i,d,h,p,f,o,u,l],v=n.apply(q,g);return r_(e)&&aZ(v,g),v.placeholder=r,rk(v,e,t)}function rr(e){var t=iO[e];return function(e,n){if(e=iv(e),(n=null==n?0:aw(ig(n),292))&&av(e)){var r=(im(e)+"e").split("e");return+((r=(im(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}function ri(e){return function(t){var n,r,i,a,s,o=a5(t);return o==ef?L(t):o==e$?(n=t,r=-1,i=Array(n.size),n.forEach(function(e){i[++r]=[e,e]}),i):(a=t,s=e(t),u(s,function(e){return[e,a[e]]}))}}function ra(t,n,r,i,a,s,o,u){var l=2&n;if(!l&&"function"!=typeof t)throw new iz(M);var c=i?i.length:0;if(c||(n&=~(Z|Q),i=a=q),o=o===q?o:ay(ig(o),0),u=u===q?u:ig(u),c-=a?a.length:0,n&Q){var h=i,f=a;i=a=q}var d=l?q:a2(t),p=[t,n,r,i,a,h,f,s,o,u];if(d&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,s=128==r&&n==N||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&n==N;if(!a&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:P);var o=t[3];if(o){var u=e[3];e[3]=u?nj(u,o,t[4]):o,e[4]=u?I(e[3],j):t[4]}(o=t[5])&&(u=e[5],e[5]=u?nK(u,o,t[6]):o,e[6]=u?I(e[5],j):t[6]),(o=t[7])&&(e[7]=o),128&r&&(e[8]=null==e[8]?t[8]:aw(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(p,d),t=p[0],n=p[1],r=p[2],i=p[3],a=p[4],(u=p[9]=p[9]===q?l?0:t.length:ay(p[9]-c,0))||!(n&(N|G))||(n&=~(N|G)),n&&1!=n)C=n==N||n==G?function(t,n,r){function i(){for(var s=arguments.length,o=iD(s),u=s,l=rp(i);u--;)o[u]=arguments[u];var c=s<3&&o[0]!==l&&o[s-1]!==l?[]:I(o,l);return(s-=c.length)<r?rn(t,n,nZ,i.placeholder,q,o,c,q,q,r-s):e(this&&this!==tO&&this instanceof i?a:t,this,o)}var a=n3(t);return i}(t,n,u):n!=Z&&n!=(1|Z)||a.length?nZ.apply(q,p):(g=t,v=n,$=r,m=i,y=1&v,w=n3(g),function t(){for(var n=-1,r=arguments.length,i=-1,a=m.length,s=iD(a+r),o=this&&this!==tO&&this instanceof t?w:g;++i<a;)s[i]=m[i];for(;r--;)s[i++]=arguments[++n];return e(o,y?$:this,s)});else var g,v,$,m,y,w,S,x,b,E,U,C=(S=t,x=n,b=r,E=1&x,U=n3(S),function e(){return(this&&this!==tO&&this instanceof e?U:S).apply(E?b:this,arguments)});return rk((d?aP:aZ)(C,p),t,n)}function rs(e,t,n,r){return e===q||rY(e,iN[n])&&!i7.call(r,n)?t:e}function ro(e,t,n,r,i,a){return is(e)&&is(t)&&(a.set(t,e),nh(e,t,q,ro,a),a.delete(t)),e}function ru(e){return il(e)?q:e}function rl(e,t,n,r,i,a){var s=1&n,o=e.length,u=t.length;if(o!=u&&!(s&&u>o))return!1;var l=a.get(e),c=a.get(t);if(l&&c)return l==t&&c==e;var h=-1,d=!0,p=n&z?new tc:q;for(a.set(e,t),a.set(t,e);++h<o;){var g=e[h],v=t[h];if(r)var $=s?r(v,g,h,t,e,a):r(g,v,h,e,t,a);if($!==q){if($)continue;d=!1;break}if(p){if(!f(t,function(e,t){if(!V(p,t)&&(g===e||i(g,e,n,r,a)))return p.push(t)})){d=!1;break}}else if(g!==v&&!i(g,v,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function rc(e){return aY(rV(e,q,r0),e+"")}function rh(e){return tK(e,iS,a7)}function rf(e){return tK(e,ix,a3)}function rd(e){for(var t=e.name+"",n=aA[t],r=i7.call(aA,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function rp(e){return(i7.call(tr,"placeholder")?tr:e).placeholder}function rg(){var e=tr.iteratee||iB;return e=e===iB?na:e,arguments.length?e(arguments[0],arguments[1]):e}function r8(e,t){var n,r,i=e.__data__;return(n=t,r=typeof n,"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function rv(e){for(var t=iS(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,rU(i)]}return t}function r$(e,t){var n,r,i=(n=e,r=t,null==n?q:n[r]);return ni(i)?i:q}function rm(e,t,n){t=n0(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var s=rT(t[r]);if(!(a=null!=e&&n(e,s)))break;e=e[s]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&ia(i)&&rS(s,i)&&(sF(e)||sW(e))}function ry(e){return"function"!=typeof e.constructor||rE(e)?{}:aH(an(e))}function rw(e){return sF(e)||sW(e)||!!(as&&e&&e[as])}function rS(e,t){var n=typeof e;return!!(t=null==t?X:t)&&("number"==n||"symbol"!=n&&eX.test(e))&&e>-1&&e%1==0&&e<t}function rx(e,t,n){if(!is(n))return!1;var r=typeof t;return!!("number"==r?rJ(n)&&rS(t,n.length):"string"==r&&t in n)&&rY(n[t],e)}function rb(e,t){if(sF(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ih(e))||eO.test(e)||!eM.test(e)||null!=t&&e in ij(t)}function r_(e){var t=rd(e),n=tr[t];if("function"!=typeof n||!(t in ts.prototype))return!1;if(e===n)return!0;var r=a2(n);return!!r&&e===r[0]}function rE(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||iN)}function rU(e){return e==e&&!is(e)}function rC(e,t){return function(n){return null!=n&&n[e]===t&&(t!==q||e in ij(n))}}function rV(t,n,r){return n=ay(n===q?t.length-1:n,0),function(){for(var i=arguments,a=-1,s=ay(i.length-n,0),o=iD(s);++a<s;)o[a]=i[n+a];a=-1;for(var u=iD(n+1);++a<n;)u[a]=i[a];return u[n]=r(o),e(t,this,u)}}function rR(e,t){return t.length<2?e:tj(e,nb(t,0,-1))}function rB(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function rk(e,t,r){var i,a,o,u,l=t+"";return aY(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(e6,"{\n/* [wrapped with "+t+"] */\n")}(l,(o=(a=(i=l).match(eN))?a[1].split(e4):[],u=r,n(ei,function(e){var t="_."+e[0];u&e[1]&&!s(o,t)&&o.push(t)}),o.sort())))}function rA(e){var t=0,n=0;return function(){var r=aS(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(q,arguments)}}function rL(e,t){var n=-1,r=e.length,i=r-1;for(t=t===q?r:t;++n<t;){var a=nv(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}function rT(e){if("string"==typeof e||ih(e))return e;var t=e+"";return"0"==t&&1/e==-J?"-0":t}function rI(e){if(null!=e){try{return i2.call(e)}catch(t){}try{return e+""}catch(n){}}return""}function rW(e){if(e instanceof ts)return e.clone();var t=new ta(e.__wrapped__,e.__chain__);return t.__actions__=n1(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function rF(e,t,n){var r=null==e?0:e.length;if(!r)return -1;var i=null==n?0:ig(n);return i<0&&(i=ay(r+i,0)),p(e,rg(t,3),i)}function r9(e,t,n){var r=null==e?0:e.length;if(!r)return -1;var i=r-1;return n!==q&&(i=ig(n),i=n<0?ay(r+i,0):aw(i,r-1)),p(e,rg(t,3),i,!0)}function r0(e){return(null==e?0:e.length)?tL(e,1):[]}function rD(e){return e&&e.length?e[0]:q}function rH(e){var t=null==e?0:e.length;return t?e[t-1]:q}function rq(e,t){return e&&e.length&&t&&t.length?ng(e,t):e}function rM(e){return null==e?e:a_.call(e)}function rO(e,t){return nE(e,t)}function rj(e){if(!e||!e.length)return[];var t=0;return e=a(e,function(e){if(rX(e))return t=ay(e.length,t),!0}),b(t,function(t){return u(e,y(t))})}function rK(t,n){if(!t||!t.length)return[];var r=rj(t);return null==n?r:u(r,function(t){return e(n,q,t)})}function r1(e){var t=tr(e);return t.__chain__=!0,t}function rz(e,t){return t(e),e}function rP(e,t){return t(e)}function r6(e,t){return(sF(e)?n:aj)(e,rg(t,3))}function rN(e,t){return(sF(e)?r:aK)(e,rg(t,3))}function r4(e,t){return(sF(e)?u:nu)(e,rg(t,3))}function r2(e,t,n){return t=n?q:t,t=e&&null==t?e.length:t,ra(e,128,q,q,q,q,t)}function r7(e,t){var n;if("function"!=typeof t)throw new iz(M);return e=ig(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=q),n}}function r3(e,t,n){t=n?q:t;var r=ra(e,N,q,q,q,q,q,t);return r.placeholder=r3.placeholder,r}function r5(e,t,n){t=n?q:t;var r=ra(e,G,q,q,q,q,q,t);return r.placeholder=r5.placeholder,r}function rG(e,t,n){function r(t){var n=u,r=l;return u=l=q,p=t,h=e.apply(r,n)}function i(e){var n=e-d,r=e-p;return d===q||n>=t||n<0||v&&r>=c}function a(){var e,n,r,o,u=s_();return i(u)?s(u):(f=aQ(a,(n=(e=u)-d,r=e-p,o=t-n,v?aw(o,c-r):o)),q)}function s(e){return f=q,$&&u?r(e):(u=l=q,h)}function o(){var e,n=s_(),s=i(n);if(u=arguments,l=this,d=n,s){if(f===q)return p=e=d,f=aQ(a,t),g?r(e):h;if(v)return aN(f),f=aQ(a,t),r(d)}return f===q&&(f=aQ(a,t)),h}var u,l,c,h,f,d,p=0,g=!1,v=!1,$=!0;if("function"!=typeof e)throw new iz(M);return t=iv(t)||0,is(n)&&(g=!!n.leading,c=(v="maxWait"in n)?ay(iv(n.maxWait)||0,t):c,$="trailing"in n?!!n.trailing:$),o.cancel=function(){f!==q&&aN(f),p=0,u=d=l=f=q},o.flush=function(){return f===q?h:s(s_())},o}function rZ(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new iz(M);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=e.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(rZ.Cache||tl),n}function rQ(e){if("function"!=typeof e)throw new iz(M);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function rY(e,t){return e===t||e!=e&&t!=t}function rJ(e){return null!=e&&ia(e.length)&&!ir(e)}function rX(e){return io(e)&&rJ(e)}function ie(e,t){return nn(e,t)}function it(e){if(!io(e))return!1;var t=tz(e);return t==el||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!il(e)}function ir(e){if(!is(e))return!1;var t=tz(e);return t==ec||t==eh||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ii(e){return"number"==typeof e&&e==ig(e)}function ia(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=X}function is(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function io(e){return null!=e&&"object"==typeof e}function iu(e){return"number"==typeof e||io(e)&&tz(e)==ed}function il(e){if(!io(e)||tz(e)!=eg)return!1;var t=an(e);if(null===t)return!0;var n=i7.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&i2.call(n)==iZ}function ic(e){return"string"==typeof e||!sF(e)&&io(e)&&tz(e)==em}function ih(e){return"symbol"==typeof e||io(e)&&tz(e)==ey}function id(e){if(!e)return[];if(rJ(e))return ic(e)?D(e):n1(e);if(ao&&e[ao])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[ao]());var t=a5(e);return(t==ef?L:t==e$?W:i_)(e)}function ip(e){return e?(e=iv(e))===J||e===-J?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}function ig(e){var t=ip(e),n=t%1;return t==t?n?t-n:t:0}function i8(e){return e?tx(ig(e),0,et):0}function iv(e){if("number"==typeof e)return e;if(ih(e))return ee;if(is(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=is(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=E(e);var n=eQ.test(e);return n||eJ.test(e)?tH(e.slice(2),n?2:8):eZ.test(e)?ee:+e}function i$(e){return nz(e,ix(e))}function im(e){return null==e?"":nR(e)}function iy(e,t,n){var r=null==e?q:tj(e,t);return r===q?n:r}function iw(e,t){return null!=e&&rm(e,t,tJ)}function iS(e){return rJ(e)?tf(e):ns(e)}function ix(e){return rJ(e)?tf(e,!0):function(e){if(!is(e))return function(e){var t=[];if(null!=e)for(var n in ij(e))t.push(n);return t}(e);var t=rE(e),n=[];for(var r in e)("constructor"!=r||!t&&i7.call(e,r))&&n.push(r);return n}(e)}function ib(e,t){if(null==e)return{};var n=u(rf(e),function(e){return[e]});return t=rg(t),np(e,n,function(e,n){return t(e,n[0])})}function i_(e){return null==e?[]:C(e,iS(e))}function iE(e){return oo(im(e).toLowerCase())}function iU(e){return(e=im(e))&&e.replace(te,tG).replace(tB,"")}function iC(e,t,n){var r,i,a;return e=im(e),(t=n?q:t)===q?(r=e,tT.test(r))?(i=e).match(tA)||[]:(a=e).match(e2)||[]:e.match(t)||[]}function iV(e){return function(){return e}}function iR(e){return e}function iB(e){return na("function"==typeof e?e:tb(e,K))}function ik(e,t,r){var i=iS(t),a=tM(t,i);null!=r||is(t)&&(a.length||!i.length)||(r=t,t=e,e=this,a=tM(t,iS(t)));var s=!(is(r)&&"chain"in r&&!r.chain),o=ir(e);return n(a,function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__);return(n.__actions__=n1(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,l([this.value()],arguments))})}),e}function iA(){}function iL(e){var t;return rb(e)?y(rT(e)):(t=e,function(e){return tj(e,t)})}function iT(){return[]}function iI(){return!1}function iW(){return{}}function iF(){return""}function i9(){return!0}var i0,iD=(eP=null==eP?tO:tY.defaults(tO.Object(),eP,tY.pick(tO,tI))).Array,iH=eP.Date,iq=eP.Error,iM=eP.Function,iO=eP.Math,ij=eP.Object,iK=eP.RegExp,i1=eP.String,iz=eP.TypeError,iP=iD.prototype,i6=iM.prototype,iN=ij.prototype,i4=eP["__core-js_shared__"],i2=i6.toString,i7=iN.hasOwnProperty,i3=0,i5=(i0=/[^.]+$/.exec(i4&&i4.keys&&i4.keys.IE_PROTO||""))?"Symbol(src)_1."+i0:"",iG=iN.toString,iZ=i2.call(ij),iQ=tO._,iY=iK("^"+i2.call(i7).replace(eK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),iJ=t1?eP.Buffer:q,iX=eP.Symbol,ae=eP.Uint8Array,at=iJ?iJ.allocUnsafe:q,an=T(ij.getPrototypeOf,ij),ar=ij.create,ai=iN.propertyIsEnumerable,aa=iP.splice,as=iX?iX.isConcatSpreadable:q,ao=iX?iX.iterator:q,au=iX?iX.toStringTag:q,al=function(){try{var e=r$(ij,"defineProperty");return e({},"",{}),e}catch(t){}}(),ac=eP.clearTimeout!==tO.clearTimeout&&eP.clearTimeout,ah=iH&&iH.now!==tO.Date.now&&iH.now,af=eP.setTimeout!==tO.setTimeout&&eP.setTimeout,ad=iO.ceil,ap=iO.floor,ag=ij.getOwnPropertySymbols,a8=iJ?iJ.isBuffer:q,av=eP.isFinite,a$=iP.join,am=T(ij.keys,ij),ay=iO.max,aw=iO.min,aS=iH.now,ax=eP.parseInt,ab=iO.random,a_=iP.reverse,aE=r$(eP,"DataView"),aU=r$(eP,"Map"),aC=r$(eP,"Promise"),aV=r$(eP,"Set"),aR=r$(eP,"WeakMap"),aB=r$(ij,"create"),ak=aR&&new aR,aA={},aL=rI(aE),aT=rI(aU),aI=rI(aC),aW=rI(aV),aF=rI(aR),a9=iX?iX.prototype:q,a0=a9?a9.valueOf:q,aD=a9?a9.toString:q,aH=function(){function e(){}return function(t){if(!is(t))return{};if(ar)return ar(t);e.prototype=t;var n=new e;return e.prototype=q,n}}();tr.templateSettings={escape:eD,evaluate:eH,interpolate:eq,variable:"",imports:{_:tr}},tr.prototype=ti.prototype,tr.prototype.constructor=tr,ta.prototype=aH(ti.prototype),ta.prototype.constructor=ta,ts.prototype=aH(ti.prototype),ts.prototype.constructor=ts,to.prototype.clear=function(){this.__data__=aB?aB(null):{},this.size=0},to.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},to.prototype.get=function(e){var t=this.__data__;if(aB){var n=t[e];return n===O?q:n}return i7.call(t,e)?t[e]:q},to.prototype.has=function(e){var t=this.__data__;return aB?t[e]!==q:i7.call(t,e)},to.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=aB&&t===q?O:t,this},tu.prototype.clear=function(){this.__data__=[],this.size=0},tu.prototype.delete=function(e){var t=this.__data__,n=t$(t,e);return!(n<0)&&(n==t.length-1?t.pop():aa.call(t,n,1),--this.size,!0)},tu.prototype.get=function(e){var t=this.__data__,n=t$(t,e);return n<0?q:t[n][1]},tu.prototype.has=function(e){return t$(this.__data__,e)>-1},tu.prototype.set=function(e,t){var n=this.__data__,r=t$(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},tl.prototype.clear=function(){this.size=0,this.__data__={hash:new to,map:new(aU||tu),string:new to}},tl.prototype.delete=function(e){var t=r8(this,e).delete(e);return this.size-=t?1:0,t},tl.prototype.get=function(e){return r8(this,e).get(e)},tl.prototype.has=function(e){return r8(this,e).has(e)},tl.prototype.set=function(e,t){var n=r8(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},tc.prototype.add=tc.prototype.push=function(e){return this.__data__.set(e,O),this},tc.prototype.has=function(e){return this.__data__.has(e)},th.prototype.clear=function(){this.__data__=new tu,this.size=0},th.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},th.prototype.get=function(e){return this.__data__.get(e)},th.prototype.has=function(e){return this.__data__.has(e)},th.prototype.set=function(e,t){var n=this.__data__;if(n instanceof tu){var r=n.__data__;if(!aU||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new tl(r)}return n.set(e,t),this.size=n.size,this};var aq,aM,aO,aj=nN(t0),aK=nN(tq,!0),a1=n4(),az=n4(!0),aP=ak?function(e,t){return ak.set(e,t),e}:iR,a6=al?function(e,t){return al(e,"toString",{configurable:!0,enumerable:!1,value:iV(t),writable:!0})}:iR,aN=ac||function(e){return tO.clearTimeout(e)},a4=aV&&1/W(new aV([,-0]))[1]==J?function(e){return new aV(e)}:iA,a2=ak?function(e){return ak.get(e)}:iA,a7=ag?function(e){return null==e?[]:(e=ij(e),a(ag(e),function(t){return ai.call(e,t)}))}:iT,a3=ag?function(e){for(var t=[];e;)l(t,a7(e)),e=an(e);return t}:iT,a5=tz;(aE&&a5(new aE(new ArrayBuffer(1)))!=eb||aU&&a5(new aU)!=ef||aC&&a5(aC.resolve())!=e8||aV&&a5(new aV)!=e$||aR&&a5(new aR)!=eS)&&(a5=function(e){var t=tz(e),n=t==eg?e.constructor:q,r=n?rI(n):"";if(r)switch(r){case aL:return eb;case aT:return ef;case aI:return e8;case aW:return e$;case aF:return eS}return t});var aG=i4?ir:iI,aZ=rA(aP),aQ=af||function(e,t){return tO.setTimeout(e,t)},aY=rA(a6),aJ=(aO=(aM=rZ(aq=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ej,function(e,n,r,i){t.push(r?i.replace(e3,"$1"):n||e)}),t},function(e){return 500===aO.size&&aO.clear(),e})).cache,aM),aX=nm(function(e,t){return rX(e)?tU(e,tL(t,1,rX,!0)):[]}),se=nm(function(e,t){var n=rH(t);return rX(n)&&(n=q),rX(e)?tU(e,tL(t,1,rX,!0),rg(n,2)):[]}),st=nm(function(e,t){var n=rH(t);return rX(n)&&(n=q),rX(e)?tU(e,tL(t,1,rX,!0),q,n):[]}),sn=nm(function(e){var t=u(e,nF);return t.length&&t[0]===e[0]?tX(t):[]}),sr=nm(function(e){var t=rH(e),n=u(e,nF);return t===rH(n)?t=q:n.pop(),n.length&&n[0]===e[0]?tX(n,rg(t,2)):[]}),si=nm(function(e){var t=rH(e),n=u(e,nF);return(t="function"==typeof t?t:q)&&n.pop(),n.length&&n[0]===e[0]?tX(n,q,t):[]}),sa=nm(rq),ss=rc(function(e,t){var n=null==e?0:e.length,r=tS(e,t);return n8(e,u(t,function(e){return rS(e,n)?+e:e}).sort(nO)),r}),so=nm(function(e){return nB(tL(e,1,rX,!0))}),su=nm(function(e){var t=rH(e);return rX(t)&&(t=q),nB(tL(e,1,rX,!0),rg(t,2))}),sl=nm(function(e){var t=rH(e);return t="function"==typeof t?t:q,nB(tL(e,1,rX,!0),q,t)}),sc=nm(function(e,t){return rX(e)?tU(e,t):[]}),sh=nm(function(e){return nI(a(e,rX))}),sf=nm(function(e){var t=rH(e);return rX(t)&&(t=q),nI(a(e,rX),rg(t,2))}),sd=nm(function(e){var t=rH(e);return t="function"==typeof t?t:q,nI(a(e,rX),q,t)}),sp=nm(rj),sg=nm(function(e){var t=e.length,n=t>1?e[t-1]:q;return n="function"==typeof n?(e.pop(),n):q,rK(e,n)}),s8=rc(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return tS(t,e)};return!(t>1||this.__actions__.length)&&r instanceof ts&&rS(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:rP,args:[i],thisArg:q}),new ta(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(q),e})):this.thru(i)}),sv=nP(function(e,t,n){i7.call(e,n)?++e[n]:tw(e,n,1)}),s$=n5(rF),sm=n5(r9),sy=nP(function(e,t,n){i7.call(e,n)?e[n].push(t):tw(e,n,[t])}),sw=nm(function(t,n,r){var i=-1,a="function"==typeof n,s=rJ(t)?iD(t.length):[];return aj(t,function(t){s[++i]=a?e(n,t,r):ne(t,n,r)}),s}),sS=nP(function(e,t,n){tw(e,n,t)}),sx=nP(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),sb=nm(function(e,t){if(null==e)return[];var n=t.length;return n>1&&rx(e,t[0],t[1])?t=[]:n>2&&rx(t[0],t[1],t[2])&&(t=[t[0]]),nd(e,tL(t,1),[])}),s_=ah||function(){return tO.Date.now()},sE=nm(function(e,t,n){var r=1;if(n.length){var i=I(n,rp(sE));r|=Z}return ra(e,r,t,n,i)}),sU=nm(function(e,t,n){var r=3;if(n.length){var i=I(n,rp(sU));r|=Z}return ra(t,r,e,n,i)}),sC=nm(function(e,t){return tE(e,1,t)}),sV=nm(function(e,t,n){return tE(e,iv(t)||0,n)});rZ.Cache=tl;var sR,sB=nm(function(t,n){var r=(n=1==n.length&&sF(n[0])?u(n[0],U(rg())):u(tL(n,1),U(rg()))).length;return nm(function(i){for(var a=-1,s=aw(i.length,r);++a<s;)i[a]=n[a].call(this,i[a]);return e(t,this,i)})}),sk=nm(function(e,t){return ra(e,Z,q,t,I(t,rp(sk)))}),sA=nm(function(e,t){return ra(e,Q,q,t,I(t,rp(sA)))}),sL=rc(function(e,t){return ra(e,256,q,q,q,t)}),sT=rt(tP),sI=rt(function(e,t){return e>=t}),sW=nt(function(){return arguments}())?nt:function(e){return io(e)&&i7.call(e,"callee")&&!ai.call(e,"callee")},sF=iD.isArray,s9=t6?U(t6):function(e){return io(e)&&tz(e)==ex},s0=a8||iI,sD=tN?U(tN):function(e){return io(e)&&tz(e)==eu},sH=t4?U(t4):function(e){return io(e)&&a5(e)==ef},sq=t2?U(t2):function(e){return io(e)&&tz(e)==ev},sM=t7?U(t7):function(e){return io(e)&&a5(e)==e$},sO=t3?U(t3):function(e){return io(e)&&ia(e.length)&&!!tF[tz(e)]},sj=rt(no),sK=rt(function(e,t){return e<=t}),s1=n6(function(e,t){if(rE(t)||rJ(t))return nz(t,iS(t),e),q;for(var n in t)i7.call(t,n)&&tv(e,n,t[n])}),sz=n6(function(e,t){nz(t,ix(t),e)}),sP=n6(function(e,t,n,r){nz(t,ix(t),e,r)}),s6=n6(function(e,t,n,r){nz(t,iS(t),e,r)}),sN=rc(tS),s4=nm(function(e,t){e=ij(e);var n=-1,r=t.length,i=r>2?t[2]:q;for(i&&rx(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=ix(a),o=-1,u=s.length;++o<u;){var l=s[o],c=e[l];(c===q||rY(c,iN[l])&&!i7.call(e,l))&&(e[l]=a[l])}return e}),s2=nm(function(t){return t.push(q,ro),e(sZ,q,t)}),s7=nQ(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=iG.call(t)),e[t]=n},iV(iR)),s3=nQ(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=iG.call(t)),i7.call(e,t)?e[t].push(n):e[t]=[n]},rg),s5=nm(ne),sG=n6(function(e,t,n){nh(e,t,n)}),sZ=n6(function(e,t,n,r){nh(e,t,n,r)}),sQ=rc(function(e,t){var n={};if(null==e)return n;var r=!1;t=u(t,function(t){return t=n0(t,e),r||(r=t.length>1),t}),nz(e,rf(e),n),r&&(n=tb(n,6|K,ru));for(var i=t.length;i--;)nk(n,t[i]);return n}),sY=rc(function(e,t){var n,r;return null==e?{}:(n=e,np(n,r=t,function(e,t){return iw(n,t)}))}),sJ=ri(iS),sX=ri(ix),oe=n7(function(e,t,n){return t=t.toLowerCase(),e+(n?iE(t):t)}),ot=n7(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),on=n7(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),or=n2("toLowerCase"),oi=n7(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),oa=n7(function(e,t,n){return e+(n?" ":"")+oo(t)}),os=n7(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),oo=n2("toUpperCase"),ou=nm(function(t,n){try{return e(t,q,n)}catch(r){return it(r)?r:new iq(r)}}),ol=rc(function(e,t){return n(t,function(t){t=rT(t),tw(e,t,sE(e[t],e))}),e}),oc=nG(),oh=nG(!0),of=nm(function(e,t){return function(n){return ne(n,e,t)}}),od=nm(function(e,t){return function(n){return ne(e,n,t)}}),op=nJ(u),og=nJ(i),o8=nJ(f),ov=re(),o$=re(!0),om=nY(function(e,t){return e+t},0),oy=rr("ceil"),ow=nY(function(e,t){return e/t},1),oS=rr("floor"),ox=nY(function(e,t){return e*t},1),ob=rr("round"),o_=nY(function(e,t){return e-t},0);return tr.after=function(e,t){if("function"!=typeof t)throw new iz(M);return e=ig(e),function(){if(--e<1)return t.apply(this,arguments)}},tr.ary=r2,tr.assign=s1,tr.assignIn=sz,tr.assignInWith=sP,tr.assignWith=s6,tr.at=sN,tr.before=r7,tr.bind=sE,tr.bindAll=ol,tr.bindKey=sU,tr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return sF(e)?e:[e]},tr.chain=r1,tr.chunk=function(e,t,n){t=(n?rx(e,t,n):t===q)?1:ay(ig(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,a=0,s=iD(ad(r/t));i<r;)s[a++]=nb(e,i,i+=t);return s},tr.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},tr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=iD(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return l(sF(n)?n1(n):[n],tL(t,1))},tr.cond=function(t){var n=null==t?0:t.length,r=rg();return t=n?u(t,function(e){if("function"!=typeof e[1])throw new iz(M);return[r(e[0]),e[1]]}):[],nm(function(r){for(var i=-1;++i<n;){var a=t[i];if(e(a[0],this,r))return e(a[1],this,r)}})},tr.conforms=function(e){var t,n;return t=tb(e,K),n=iS(t),function(e){return t_(e,t,n)}},tr.constant=iV,tr.countBy=sv,tr.create=function(e,t){var n=aH(e);return null==t?n:ty(n,t)},tr.curry=r3,tr.curryRight=r5,tr.debounce=rG,tr.defaults=s4,tr.defaultsDeep=s2,tr.defer=sC,tr.delay=sV,tr.difference=aX,tr.differenceBy=se,tr.differenceWith=st,tr.drop=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===q?1:ig(t),nb(e,t<0?0:t,r)):[]},tr.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===q?1:ig(t),nb(e,0,(t=r-t)<0?0:t)):[]},tr.dropRightWhile=function(e,t){return e&&e.length?nL(e,rg(t,3),!0,!0):[]},tr.dropWhile=function(e,t){return e&&e.length?nL(e,rg(t,3),!0):[]},tr.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&rx(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=ig(n))<0&&(n=-n>i?0:i+n),(r=r===q||r>i?i:ig(r))<0&&(r+=i),r=n>r?0:i8(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},tr.filter=function(e,t){return(sF(e)?a:tk)(e,rg(t,3))},tr.flatMap=function(e,t){return tL(r4(e,t),1)},tr.flatMapDeep=function(e,t){return tL(r4(e,t),J)},tr.flatMapDepth=function(e,t,n){return n=n===q?1:ig(n),tL(r4(e,t),n)},tr.flatten=r0,tr.flattenDeep=function(e){return(null==e?0:e.length)?tL(e,J):[]},tr.flattenDepth=function(e,t){return(null==e?0:e.length)?(t=t===q?1:ig(t),tL(e,t)):[]},tr.flip=function(e){return ra(e,512)},tr.flow=oc,tr.flowRight=oh,tr.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},tr.functions=function(e){return null==e?[]:tM(e,iS(e))},tr.functionsIn=function(e){return null==e?[]:tM(e,ix(e))},tr.groupBy=sy,tr.initial=function(e){return(null==e?0:e.length)?nb(e,0,-1):[]},tr.intersection=sn,tr.intersectionBy=sr,tr.intersectionWith=si,tr.invert=s7,tr.invertBy=s3,tr.invokeMap=sw,tr.iteratee=iB,tr.keyBy=sS,tr.keys=iS,tr.keysIn=ix,tr.map=r4,tr.mapKeys=function(e,t){var n={};return t=rg(t,3),t0(e,function(e,r,i){tw(n,t(e,r,i),e)}),n},tr.mapValues=function(e,t){var n={};return t=rg(t,3),t0(e,function(e,r,i){tw(n,r,t(e,r,i))}),n},tr.matches=function(e){return nl(tb(e,K))},tr.matchesProperty=function(e,t){return nc(e,tb(t,K))},tr.memoize=rZ,tr.merge=sG,tr.mergeWith=sZ,tr.method=of,tr.methodOf=od,tr.mixin=ik,tr.negate=rQ,tr.nthArg=function(e){return e=ig(e),nm(function(t){return nf(t,e)})},tr.omit=sQ,tr.omitBy=function(e,t){return ib(e,rQ(rg(t)))},tr.once=function(e){return r7(2,e)},tr.orderBy=function(e,t,n,r){return null==e?[]:(sF(t)||(t=null==t?[]:[t]),n=r?q:n,sF(n)||(n=null==n?[]:[n]),nd(e,t,n))},tr.over=op,tr.overArgs=sB,tr.overEvery=og,tr.overSome=o8,tr.partial=sk,tr.partialRight=sA,tr.partition=sx,tr.pick=sY,tr.pickBy=ib,tr.property=iL,tr.propertyOf=function(e){return function(t){return null==e?q:tj(e,t)}},tr.pull=sa,tr.pullAll=rq,tr.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?ng(e,t,rg(n,2)):e},tr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?ng(e,t,q,n):e},tr.pullAt=ss,tr.range=ov,tr.rangeRight=o$,tr.rearg=sL,tr.reject=function(e,t){return(sF(e)?a:tk)(e,rQ(rg(t,3)))},tr.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=rg(t,3);++r<a;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return n8(e,i),n},tr.rest=function(e,t){if("function"!=typeof e)throw new iz(M);return t=t===q?t:ig(t),nm(e,t)},tr.reverse=rM,tr.sampleSize=function(e,t,n){return t=(n?rx(e,t,n):t===q)?1:ig(t),(sF(e)?tp:nw)(e,t)},tr.set=function(e,t,n){return null==e?e:nS(e,t,n)},tr.setWith=function(e,t,n,r){return r="function"==typeof r?r:q,null==e?e:nS(e,t,n,r)},tr.shuffle=function(e){return(sF(e)?tg:nx)(e)},tr.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&rx(e,t,n)?(t=0,n=r):(t=null==t?0:ig(t),n=n===q?r:ig(n)),nb(e,t,n)):[]},tr.sortBy=sb,tr.sortedUniq=function(e){return e&&e.length?nC(e):[]},tr.sortedUniqBy=function(e,t){return e&&e.length?nC(e,rg(t,2)):[]},tr.split=function(e,t,n){return n&&"number"!=typeof n&&rx(e,t,n)&&(t=n=q),(n=n===q?et:n>>>0)?(e=im(e))&&("string"==typeof t||null!=t&&!sq(t))&&!(t=nR(t))&&A(e)?nD(D(e),0,n):e.split(t,n):[]},tr.spread=function(t,n){if("function"!=typeof t)throw new iz(M);return n=null==n?0:ay(ig(n),0),nm(function(r){var i=r[n],a=nD(r,0,n);return i&&l(a,i),e(t,this,a)})},tr.tail=function(e){var t=null==e?0:e.length;return t?nb(e,1,t):[]},tr.take=function(e,t,n){return e&&e.length?(t=n||t===q?1:ig(t),nb(e,0,t<0?0:t)):[]},tr.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===q?1:ig(t),nb(e,(t=r-t)<0?0:t,r)):[]},tr.takeRightWhile=function(e,t){return e&&e.length?nL(e,rg(t,3),!1,!0):[]},tr.takeWhile=function(e,t){return e&&e.length?nL(e,rg(t,3)):[]},tr.tap=rz,tr.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new iz(M);return is(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),rG(e,t,{leading:r,maxWait:t,trailing:i})},tr.thru=rP,tr.toArray=id,tr.toPairs=sJ,tr.toPairsIn=sX,tr.toPath=function(e){return sF(e)?u(e,rT):ih(e)?[e]:n1(aJ(im(e)))},tr.toPlainObject=i$,tr.transform=function(e,t,r){var i=sF(e),a=i||s0(e)||sO(e);if(t=rg(t,4),null==r){var s=e&&e.constructor;r=a?i?new s:[]:is(e)&&ir(s)?aH(an(e)):{}}return(a?n:t0)(e,function(e,n,i){return t(r,e,n,i)}),r},tr.unary=function(e){return r2(e,1)},tr.union=so,tr.unionBy=su,tr.unionWith=sl,tr.uniq=function(e){return e&&e.length?nB(e):[]},tr.uniqBy=function(e,t){return e&&e.length?nB(e,rg(t,2)):[]},tr.uniqWith=function(e,t){return t="function"==typeof t?t:q,e&&e.length?nB(e,q,t):[]},tr.unset=function(e,t){return null==e||nk(e,t)},tr.unzip=rj,tr.unzipWith=rK,tr.update=function(e,t,n){return null==e?e:nA(e,t,n9(n))},tr.updateWith=function(e,t,n,r){return r="function"==typeof r?r:q,null==e?e:nA(e,t,n9(n),r)},tr.values=i_,tr.valuesIn=function(e){return null==e?[]:C(e,ix(e))},tr.without=sc,tr.words=iC,tr.wrap=function(e,t){return sk(n9(t),e)},tr.xor=sh,tr.xorBy=sf,tr.xorWith=sd,tr.zip=sp,tr.zipObject=function(e,t){return nW(e||[],t||[],tv)},tr.zipObjectDeep=function(e,t){return nW(e||[],t||[],nS)},tr.zipWith=sg,tr.entries=sJ,tr.entriesIn=sX,tr.extend=sz,tr.extendWith=sP,ik(tr,tr),tr.add=om,tr.attempt=ou,tr.camelCase=oe,tr.capitalize=iE,tr.ceil=oy,tr.clamp=function(e,t,n){return n===q&&(n=t,t=q),n!==q&&(n=(n=iv(n))==n?n:0),t!==q&&(t=(t=iv(t))==t?t:0),tx(iv(e),t,n)},tr.clone=function(e){return tb(e,4)},tr.cloneDeep=function(e){return tb(e,4|K)},tr.cloneDeepWith=function(e,t){return t="function"==typeof t?t:q,tb(e,4|K,t)},tr.cloneWith=function(e,t){return t="function"==typeof t?t:q,tb(e,4,t)},tr.conformsTo=function(e,t){return null==t||t_(e,t,iS(t))},tr.deburr=iU,tr.defaultTo=function(e,t){return null==e||e!=e?t:e},tr.divide=ow,tr.endsWith=function(e,t,n){e=im(e),t=nR(t);var r=e.length,i=n=n===q?r:tx(ig(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},tr.eq=rY,tr.escape=function(e){return(e=im(e))&&e0.test(e)?e.replace(eF,tZ):e},tr.escapeRegExp=function(e){return(e=im(e))&&e1.test(e)?e.replace(eK,"\\$&"):e},tr.every=function(e,t,n){var r=sF(e)?i:tC;return n&&rx(e,t,n)&&(t=q),r(e,rg(t,3))},tr.find=s$,tr.findIndex=rF,tr.findKey=function(e,t){return d(e,rg(t,3),t0)},tr.findLast=sm,tr.findLastIndex=r9,tr.findLastKey=function(e,t){return d(e,rg(t,3),tq)},tr.floor=oS,tr.forEach=r6,tr.forEachRight=rN,tr.forIn=function(e,t){return null==e?e:a1(e,rg(t,3),ix)},tr.forInRight=function(e,t){return null==e?e:az(e,rg(t,3),ix)},tr.forOwn=function(e,t){return e&&t0(e,rg(t,3))},tr.forOwnRight=function(e,t){return e&&tq(e,rg(t,3))},tr.get=iy,tr.gt=sT,tr.gte=sI,tr.has=function(e,t){return null!=e&&rm(e,t,t5)},tr.hasIn=iw,tr.head=rD,tr.identity=iR,tr.includes=function(e,t,n,r){e=rJ(e)?e:i_(e),n=n&&!r?ig(n):0;var i=e.length;return n<0&&(n=ay(i+n,0)),ic(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&g(e,t,n)>-1},tr.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return -1;var i=null==n?0:ig(n);return i<0&&(i=ay(r+i,0)),g(e,t,i)},tr.inRange=function(e,t,n){var r,i,a;return t=ip(t),n===q?(n=t,t=0):n=ip(n),r=e=iv(e),r>=aw(i=t,a=n)&&r<ay(i,a)},tr.invoke=s5,tr.isArguments=sW,tr.isArray=sF,tr.isArrayBuffer=s9,tr.isArrayLike=rJ,tr.isArrayLikeObject=rX,tr.isBoolean=function(e){return!0===e||!1===e||io(e)&&tz(e)==eo},tr.isBuffer=s0,tr.isDate=sD,tr.isElement=function(e){return io(e)&&1===e.nodeType&&!il(e)},tr.isEmpty=function(e){if(null==e)return!0;if(rJ(e)&&(sF(e)||"string"==typeof e||"function"==typeof e.splice||s0(e)||sO(e)||sW(e)))return!e.length;var t=a5(e);if(t==ef||t==e$)return!e.size;if(rE(e))return!ns(e).length;for(var n in e)if(i7.call(e,n))return!1;return!0},tr.isEqual=ie,tr.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:q)?n(e,t):q;return r===q?nn(e,t,q,n):!!r},tr.isError=it,tr.isFinite=function(e){return"number"==typeof e&&av(e)},tr.isFunction=ir,tr.isInteger=ii,tr.isLength=ia,tr.isMap=sH,tr.isMatch=function(e,t){return e===t||nr(e,t,rv(t))},tr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:q,nr(e,t,rv(t),n)},tr.isNaN=function(e){return iu(e)&&e!=+e},tr.isNative=function(e){if(aG(e))throw new iq("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ni(e)},tr.isNil=function(e){return null==e},tr.isNull=function(e){return null===e},tr.isNumber=iu,tr.isObject=is,tr.isObjectLike=io,tr.isPlainObject=il,tr.isRegExp=sq,tr.isSafeInteger=function(e){return ii(e)&&e>=-X&&e<=X},tr.isSet=sM,tr.isString=ic,tr.isSymbol=ih,tr.isTypedArray=sO,tr.isUndefined=function(e){return e===q},tr.isWeakMap=function(e){return io(e)&&a5(e)==eS},tr.isWeakSet=function(e){return io(e)&&"[object WeakSet]"==tz(e)},tr.join=function(e,t){return null==e?"":a$.call(e,t)},tr.kebabCase=ot,tr.last=rH,tr.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return -1;var i=r;return n!==q&&(i=(i=ig(n))<0?ay(r+i,0):aw(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--&&e[r]!==t;);return r}(e,t,i):p(e,$,i,!0)},tr.lowerCase=on,tr.lowerFirst=or,tr.lt=sj,tr.lte=sK,tr.max=function(e){return e&&e.length?tV(e,iR,tP):q},tr.maxBy=function(e,t){return e&&e.length?tV(e,rg(t,2),tP):q},tr.mean=function(e){return m(e,iR)},tr.meanBy=function(e,t){return m(e,rg(t,2))},tr.min=function(e){return e&&e.length?tV(e,iR,no):q},tr.minBy=function(e,t){return e&&e.length?tV(e,rg(t,2),no):q},tr.stubArray=iT,tr.stubFalse=iI,tr.stubObject=iW,tr.stubString=iF,tr.stubTrue=i9,tr.multiply=ox,tr.nth=function(e,t){return e&&e.length?nf(e,ig(t)):q},tr.noConflict=function(){return tO._===this&&(tO._=iQ),this},tr.noop=iA,tr.now=s_,tr.pad=function(e,t,n){e=im(e);var r=(t=ig(t))?F(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return nX(ap(i),n)+e+nX(ad(i),n)},tr.padEnd=function(e,t,n){e=im(e);var r=(t=ig(t))?F(e):0;return t&&r<t?e+nX(t-r,n):e},tr.padStart=function(e,t,n){e=im(e);var r=(t=ig(t))?F(e):0;return t&&r<t?nX(t-r,n)+e:e},tr.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),ax(im(e).replace(ez,""),t||0)},tr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&rx(e,t,n)&&(t=n=q),n===q&&("boolean"==typeof t?(n=t,t=q):"boolean"==typeof e&&(n=e,e=q)),e===q&&t===q?(e=0,t=1):(e=ip(e),t===q?(t=e,e=0):t=ip(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=ab();return aw(e+i*(t-e+tD("1e-"+((i+"").length-1))),t)}return nv(e,t)},tr.reduce=function(e,t,n){var r=sF(e)?c:S,i=arguments.length<3;return r(e,rg(t,4),n,i,aj)},tr.reduceRight=function(e,t,n){var r=sF(e)?h:S,i=arguments.length<3;return r(e,rg(t,4),n,i,aK)},tr.repeat=function(e,t,n){return t=(n?rx(e,t,n):t===q)?1:ig(t),n$(im(e),t)},tr.replace=function(){var e=arguments,t=im(e[0]);return e.length<3?t:t.replace(e[1],e[2])},tr.result=function(e,t,n){t=n0(t,e);var r=-1,i=t.length;for(i||(i=1,e=q);++r<i;){var a=null==e?q:e[rT(t[r])];a===q&&(r=i,a=n),e=ir(a)?a.call(e):a}return e},tr.round=ob,tr.runInContext=w,tr.sample=function(e){return(sF(e)?td:ny)(e)},tr.size=function(e){if(null==e)return 0;if(rJ(e))return ic(e)?F(e):e.length;var t=a5(e);return t==ef||t==e$?e.size:ns(e).length},tr.snakeCase=oi,tr.some=function(e,t,n){var r=sF(e)?f:n_;return n&&rx(e,t,n)&&(t=q),r(e,rg(t,3))},tr.sortedIndex=rO,tr.sortedIndexBy=function(e,t,n){return nU(e,t,rg(n,2))},tr.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=nE(e,t);if(r<n&&rY(e[r],t))return r}return -1},tr.sortedLastIndex=function(e,t){return nE(e,t,!0)},tr.sortedLastIndexBy=function(e,t,n){return nU(e,t,rg(n,2),!0)},tr.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=nE(e,t,!0)-1;if(rY(e[n],t))return n}return -1},tr.startCase=oa,tr.startsWith=function(e,t,n){return e=im(e),n=null==n?0:tx(ig(n),0,e.length),t=nR(t),e.slice(n,n+t.length)==t},tr.subtract=o_,tr.sum=function(e){return e&&e.length?x(e,iR):0},tr.sumBy=function(e,t){return e&&e.length?x(e,rg(t,2)):0},tr.template=function(e,t,n){var r=tr.templateSettings;n&&rx(e,t,n)&&(t=q),e=im(e),t=sP({},t,r,rs);var i,a,s=sP({},t.imports,r.imports,rs),o=iS(s),u=C(s,o),l=0,c=t.interpolate||tt,h="__p += '",f=iK((t.escape||tt).source+"|"+c.source+"|"+(c===eq?e5:tt).source+"|"+(t.evaluate||tt).source+"|$","g"),d="//# sourceURL="+(i7.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++tW+"]")+"\n";e.replace(f,function(t,n,r,s,o,u){return r||(r=s),h+=e.slice(l,u).replace(tn,k),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),o&&(a=!0,h+="';\n"+o+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t}),h+="';\n";var p=i7.call(t,"variable")&&t.variable;if(p){if(e7.test(p))throw new iq("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(eL,""):h).replace(eT,"$1").replace(eI,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=ou(function(){return iM(o,d+"return "+h).apply(q,u)});if(g.source=h,it(g))throw g;return g},tr.times=function(e,t){if((e=ig(e))<1||e>X)return[];var n=et,r=aw(e,et);t=rg(t),e-=et;for(var i=b(r,t);++n<e;)t(n);return i},tr.toFinite=ip,tr.toInteger=ig,tr.toLength=i8,tr.toLower=function(e){return im(e).toLowerCase()},tr.toNumber=iv,tr.toSafeInteger=function(e){return e?tx(ig(e),-X,X):0===e?e:0},tr.toString=im,tr.toUpper=function(e){return im(e).toUpperCase()},tr.trim=function(e,t,n){if((e=im(e))&&(n||t===q))return E(e);if(!e||!(t=nR(t)))return e;var r=D(e),i=D(t);return nD(r,R(r,i),B(r,i)+1).join("")},tr.trimEnd=function(e,t,n){if((e=im(e))&&(n||t===q))return e.slice(0,H(e)+1);if(!e||!(t=nR(t)))return e;var r=D(e);return nD(r,0,B(r,D(t))+1).join("")},tr.trimStart=function(e,t,n){if((e=im(e))&&(n||t===q))return e.replace(ez,"");if(!e||!(t=nR(t)))return e;var r=D(e);return nD(r,R(r,D(t))).join("")},tr.truncate=function(e,t){var n=30,r=Y;if(is(t)){var i="separator"in t?t.separator:i;n="length"in t?ig(t.length):n,r="omission"in t?nR(t.omission):r}var a=(e=im(e)).length;if(A(e)){var s=D(e);a=s.length}if(n>=a)return e;var o=n-F(r);if(o<1)return r;var u=s?nD(s,0,o).join(""):e.slice(0,o);if(i===q)return u+r;if(s&&(o+=u.length-o),sq(i)){if(e.slice(o).search(i)){var l,c=u;for(i.global||(i=iK(i.source,im(eG.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var h=l.index;u=u.slice(0,h===q?o:h)}}else if(e.indexOf(nR(i),o)!=o){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+r},tr.unescape=function(e){return(e=im(e))&&e9.test(e)?e.replace(eW,tQ):e},tr.uniqueId=function(e){var t=++i3;return im(e)+t},tr.upperCase=os,tr.upperFirst=oo,tr.each=r6,tr.eachRight=rN,tr.first=rD,ik(tr,(sR={},t0(tr,function(e,t){i7.call(tr.prototype,t)||(sR[t]=e)}),sR),{chain:!1}),tr.VERSION="4.17.21",n(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){tr[e].placeholder=tr}),n(["drop","take"],function(e,t){ts.prototype[e]=function(n){n=n===q?1:ay(ig(n),0);var r=this.__filtered__&&!t?new ts(this):this.clone();return r.__filtered__?r.__takeCount__=aw(n,r.__takeCount__):r.__views__.push({size:aw(n,et),type:e+(r.__dir__<0?"Right":"")}),r},ts.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),n(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;ts.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:rg(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),n(["head","last"],function(e,t){var n="take"+(t?"Right":"");ts.prototype[e]=function(){return this[n](1).value()[0]}}),n(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");ts.prototype[e]=function(){return this.__filtered__?new ts(this):this[n](1)}}),ts.prototype.compact=function(){return this.filter(iR)},ts.prototype.find=function(e){return this.filter(e).head()},ts.prototype.findLast=function(e){return this.reverse().find(e)},ts.prototype.invokeMap=nm(function(e,t){return"function"==typeof e?new ts(this):this.map(function(n){return ne(n,e,t)})}),ts.prototype.reject=function(e){return this.filter(rQ(rg(e)))},ts.prototype.slice=function(e,t){e=ig(e);var n=this;return n.__filtered__&&(e>0||t<0)?new ts(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==q&&(n=(t=ig(t))<0?n.dropRight(-t):n.take(t-e)),n)},ts.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ts.prototype.toArray=function(){return this.take(et)},t0(ts.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=tr[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(tr.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,o=t instanceof ts,u=s[0],c=o||sF(t),h=function(e){var t=i.apply(tr,l([e],s));return r&&f?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(o=c=!1);var f=this.__chain__,d=!!this.__actions__.length,p=a&&!f,g=o&&!d;if(!a&&c){t=g?t:new ts(this);var v=e.apply(t,s);return v.__actions__.push({func:rP,args:[h],thisArg:q}),new ta(v,f)}return p&&g?e.apply(this,s):(v=this.thru(h),p?r?v.value()[0]:v.value():v)})}),n(["pop","push","shift","sort","splice","unshift"],function(e){var t=iP[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);tr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(sF(i)?i:[],e)}return this[n](function(n){return t.apply(sF(n)?n:[],e)})}}),t0(ts.prototype,function(e,t){var n=tr[t];if(n){var r=n.name+"";i7.call(aA,r)||(aA[r]=[]),aA[r].push({name:t,func:n})}}),aA[nZ(q,2).name]=[{name:"wrapper",func:q}],ts.prototype.clone=function(){var e=new ts(this.__wrapped__);return e.__actions__=n1(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=n1(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=n1(this.__views__),e},ts.prototype.reverse=function(){if(this.__filtered__){var e=new ts(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},ts.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=sF(e),r=t<0,i=n?e.length:0,a=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],s=a.size;switch(a.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=aw(t,e+s);break;case"takeRight":e=ay(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=a.start,o=a.end,u=o-s,l=r?o:s-1,c=this.__iteratees__,h=c.length,f=0,d=aw(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return nT(e,this.__actions__);var p=[];n:for(;u--&&f<d;){l+=t;for(var g=-1,v=e[l];++g<h;){var $=c[g],m=$.iteratee,y=$.type,w=m(v);if(2==y)v=w;else if(!w){if(1==y)continue n;break n}}p[f++]=v}return p},tr.prototype.at=s8,tr.prototype.chain=function(){return r1(this)},tr.prototype.commit=function(){return new ta(this.value(),this.__chain__)},tr.prototype.next=function(){this.__values__===q&&(this.__values__=id(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?q:this.__values__[this.__index__++]}},tr.prototype.plant=function(e){for(var t,n=this;n instanceof ti;){var r=rW(n);r.__index__=0,r.__values__=q,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},tr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof ts){var t=e;return this.__actions__.length&&(t=new ts(this)),(t=t.reverse()).__actions__.push({func:rP,args:[rM],thisArg:q}),new ta(t,this.__chain__)}return this.thru(rM)},tr.prototype.toJSON=tr.prototype.valueOf=tr.prototype.value=function(){return nT(this.__wrapped__,this.__actions__)},tr.prototype.first=tr.prototype.head,ao&&(tr.prototype[ao]=function(){return this}),tr}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(tO._=tY,define(function(){return tY})):tK?((tK.exports=tY)._=tY,tj._=tY):tO._=tY}).call(this),window.annexSearch.DependencyLoader.load(function(){window.annexSearch.AnnexSearch.setup()});